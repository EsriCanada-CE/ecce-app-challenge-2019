// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/3.15/esri/copyright.txt and http://www.arcgis.com/apps/webappbuilder/copyright.txt for details.
//>>built
require({cache:{"widgets/ObliqueViewer/setting/_build-generate_module":function(){define(["dojo/text!./Setting.html","dojo/text!./css/style.css","dojo/i18n!./nls/strings"],function(){})},"url:widgets/ObliqueViewer/setting/Setting.html":'\x3cdiv style\x3d"width: 100%; height: 100%;"\x3e\r\n    \x3cdiv class\x3d"settings-section" data-dojo-attach-point\x3d"searchesSection"\x3e\r\n      \x3ctable class\x3d"setting-table input-table" cellspacing\x3d"0"\x3e\r\n        \x3ctbody\x3e\r\n          \x3ctr\x3e\r\n            \x3ctd class\x3d"first"\x3e${nls.layerSelect}:\x3c/td\x3e\r\n            \x3ctd class\x3d"second"\x3e\r\n              \x3cselect style\x3d"margin: 0 10px;" data-dojo-attach-point\x3d"mapLayerSelect" data-dojo-type\x3d"dijit/form/Select"\x3e\r\n              \x3c/select\x3e\r\n            \x3c/td\x3e\r\n          \x3c/tr\x3e\r\n          \x3ctr\x3e\r\n            \x3ctd class\x3d"first"\x3e${nls.elevationFieldSelect}:\x3c/td\x3e\r\n            \x3ctd class\x3d"second"\x3e\r\n              \x3cselect style\x3d"margin: 0 10px;" data-dojo-attach-point\x3d"elevationFieldSelect" data-dojo-type\x3d"dijit/form/Select"\x3e\r\n              \x3c/select\x3e\r\n            \x3c/td\x3e\r\n          \x3c/tr\x3e\r\n          \x3ctr\x3e\r\n            \x3ctd class\x3d"first"\x3e${nls.azimuthFieldSelect}:\x3c/td\x3e\r\n            \x3ctd class\x3d"second"\x3e\r\n              \x3cselect style\x3d"margin: 0 10px;" data-dojo-attach-point\x3d"azimuthFieldSelect" data-dojo-type\x3d"dijit/form/Select"\x3e\r\n              \x3c/select\x3e\r\n            \x3c/td\x3e\r\n          \x3c/tr\x3e\r\n          \x3ctr\x3e\r\n            \x3ctd class\x3d"first"\x3e${nls.searchRadiusSelect}:\x3c/td\x3e\r\n            \x3ctd class\x3d"second"\x3e\r\n              \x3ctable\x3e\r\n                \x3ctr\x3e\r\n                  \x3ctd\x3e\r\n                      \x3cselect style\x3d"width: 100px; margin: 10px 0 10px 7px;" data-dojo-attach-point\x3d"searchRadiusSelect" data-dojo-type\x3d"dijit/form/NumberSpinner"\x3e\r\n                      \x3c/select\x3e\r\n                  \x3c/td\x3e\r\n                  \x3ctd\x3e\r\n                      \x3cselect style\x3d"width: 170px; margin: 10px 0;" data-dojo-attach-point\x3d"searchUnitSelect" data-dojo-type\x3d"dijit/form/Select"\x3e\r\n                      \x3c/select\x3e\r\n                  \x3c/td\x3e   \r\n                \x3c/tr\x3e\r\n              \x3c/table\x3e\r\n            \x3c/td\x3e\r\n          \x3c/tr\x3e\r\n          \x3ctr\x3e\r\n            \x3ctd class\x3d"first"\x3e${nls.rasterInfoFieldsSelect}:\x3cbr/\x3e\r\n              \x3clabel data-dojo-attach-point\x3d"fieldLimitLabel"\x3e(${nls.fieldLimitText})\x3c/label\x3e\r\n                              \x3c/td\x3e\r\n            \x3ctd class\x3d"second"\x3e\r\n              \x3cselect style\x3d"margin: 0 10px;" data-dojo-attach-point\x3d"rasterInfoFieldsSelect" data-dojo-type\x3d"dojox/form/CheckedMultiSelect" multiple\x3d"true"\x3e\r\n              \x3c/select\x3e\r\n            \x3c/td\x3e\r\n          \x3c/tr\x3e\r\n  \r\n          \x3ctr\x3e\r\n            \x3ctd colspan\x3d"2"\x3e\r\n              \x3cinput data-dojo-attach-point\x3d"thumbnailCheckbox" data-dojo-type\x3d"dijit/form/CheckBox" /\x3e\r\n              \x3clabel style\x3d"margin: 0 15px;"\x3e${nls.showThumbnailText}\x3c/label\x3e\r\n            \x3c/td\x3e\r\n          \x3c/tr\x3e\r\n          \x3ctr\x3e\r\n            \x3ctd colspan\x3d"2"\x3e\r\n              \x3cinput data-dojo-attach-point\x3d"autoSyncCheckbox" data-dojo-type\x3d"dijit/form/CheckBox" checked /\x3e\r\n              \x3clabel style\x3d"margin: 0 15px;"\x3e${nls.autoSyncText}\x3c/label\x3e\r\n            \x3c/td\x3e\r\n          \x3c/tr\x3e\r\n          \x3ctr\x3e\r\n            \x3ctd colspan\x3d"2"\x3e\r\n              \x3cinput data-dojo-attach-point\x3d"distanceToolCheckbox" data-dojo-type\x3d"dijit/form/CheckBox" /\x3e\r\n              \x3clabel style\x3d"margin: 0 15px;"\x3e${nls.distanceToolText}\x3c/label\x3e\r\n            \x3c/td\x3e\r\n          \x3c/tr\x3e\r\n        \x3c/tbody\x3e\r\n      \x3c/table\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"errorSection"\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n  ',
"url:widgets/ObliqueViewer/setting/css/style.css":".jimu-widget-ObliqueViewer-setting{margin:0; padding:0; font-size:15px;}.jimu-widget-ObliqueViewer-setting .dijitArrowButtonContainer{width: 17px;}.jimu-widget-ObliqueViewer-setting .dijitSelect{height: 30px; width: 96%;}.jimu-widget-ObliqueViewer-setting .dijitTextBox {margin-left: 10px; width: 17em;}.jimu-widget-ObliqueViewer-setting .setting-table \x3e thead \x3e tr \x3e th,.jimu-widget-ObliqueViewer-setting .setting-table \x3e tbody \x3e tr \x3e td{height:40px; line-height:40px; vertical-align:middle;}.jimu-widget-ObliqueViewer-setting .input-table \x3e tbody \x3e tr \x3e .first{width:auto; padding-right:15px;}.jimu-widget-ObliqueViewer-setting .input-table \x3e tbody \x3e tr \x3e .second{width:200px;}.jimu-widget-ObliqueViewer-setting .input-table \x3e tbody \x3e tr \x3e .third{width:35px;}.settingsHidden {display: none;}.dojoxCheckedMultiSelect {margin-top: 4px; margin-bottom: 3px;}.dojoxCheckedMultiSelect .dojoxCheckedMultiSelectWrapper {height: 175px; margin: 0px; width: 255px;}",
"*now":function(d){d(['dojo/i18n!*preload*widgets/ObliqueViewer/setting/nls/Setting*["ar","bs","ca","cs","da","de","en","el","es","et","fi","fr","he","hi","hr","hu","id","it","ja","ko","lt","lv","nb","nl","pl","pt-br","pt-pt","ro","ru","sl","sr","sv","th","tr","zh-cn","vi","zh-hk","zh-tw","ROOT"]'])},"*noref":1}});
define("dojo/_base/declare dijit/_WidgetsInTemplateMixin jimu/BaseWidgetSetting dojo/_base/array dojo/dom-class dojo/dom-style dojo/html dojo/_base/lang esri/lang dojo/on dijit/form/CheckBox dijit/form/Select dojox/form/CheckedMultiSelect dijit/form/NumberTextBox dijit/form/NumberSpinner".split(" "),function(d,l,m,e,f,h,g,k,n){return d([m,l],{baseClass:"jimu-widget-ObliqueViewer-setting",_layerFieldMap:{},_hasSupportedLayer:!1,startup:function(){this.inherited(arguments);this.config.ObliqueViewer||
(this.config.ObliqueViewer={});this._populateLayers();this._hasSupportedLayer&&(this._populateFields(),this._setupRadiusSelector(),this._populateUnits());this.rasterInfoFieldsSelect&&(this._multiSelectClick(),this.own(this.rasterInfoFieldsSelect.on("click",k.hitch(this,this._multiSelectClick))));this.setConfig(this.config)},_setupRadiusSelector:function(){this.searchRadiusSelect.set("smallDelta",1);this.searchRadiusSelect.set("constraints",{min:0,max:100});this.searchRadiusSelect.set("rangeMessage",
this.nls.outOfRangeMessage)},_populateUnits:function(){var a=["meters","feet","yards","kilometers","miles"],b=Object.keys(window.jimuNls.units),c=this.searchUnitSelect;e.forEach(b,function(b){-1!=e.indexOf(a,b)&&c.addOption({label:window.jimuNls.units[b],value:b})},this);this.config.ObliqueViewer.searchUnit&&this.searchUnitSelect.set("value",this.config.ObliqueViewer.searchUnit)},_multiSelectClick:function(){var a=this.rasterInfoFieldsSelect.get("value");3<a.length?(h.set(this.fieldLimitLabel,"visibility",
"visible"),this.rasterInfoFieldsSelect.set("value",a.slice(0,3))):h.set(this.fieldLimitLabel,"visibility","hidden")},_checkForImageServiceLayers:function(){},_populateLayers:function(){var a=0;e.forEach(this.map.itemInfo.itemData.operationalLayers,function(b){b&&b.layerObject&&this._isImageServiceLayer(b.layerObject)&&(a++,this.mapLayerSelect.addOption({value:b.title,label:b.title}),this._layerFieldMap[b.title]=[],this._layerFieldMap[b.title]=b.layerObject.fields)},this);this.mapLayerSelect.on("change",
k.hitch(this,this._populateFields));0===a?(f.add(this.searchesSection,"settingsHidden"),g.set(this.errorSection,this.nls.errorSectionMessage),this._hasSupportedLayer=!1):(f.remove(this.searchesSection,"settingsHidden"),g.set(this.errorSection,""),this._hasSupportedLayer=!0)},_isImageServiceLayer:function(a){return"esri.layers.ArcGISImageServiceLayer"===a.declaredClass||"esri.layers.ArcGISImageServiceVectorLayer"===a.declaredClass},_populateFields:function(){var a=this.config.ObliqueViewer,b=a.rasterInfoFields&&
a.rasterInfoFields.length?a.rasterInfoFields:this._getDefaultFields(),c=a.elevationField?a.elevationField.toLowerCase():"elevation",a=a.azimuthField?a.azimuthField.toLowerCase():"azimuth";this._clearFields(this.elevationFieldSelect);this._clearFields(this.azimuthFieldSelect);this._clearFields(this.rasterInfoFieldsSelect);this._addFields(this.elevationFieldSelect,c);this._addFields(this.azimuthFieldSelect,a);this._addFields(this.rasterInfoFieldsSelect);this.rasterInfoFieldsSelect.set("value",b)},_clearFields:function(a){var b=
a.getOptions();e.forEach(b,function(b){a.removeOption(b)},this)},_addFields:function(a,b){var c=this._layerFieldMap[this.mapLayerSelect.get("value")],d;e.forEach(c,function(c){b&&-1<c.name.toLowerCase().indexOf(b)&&(d=c.name);"esriFieldTypeGeometry"!==c.type&&a.addOption({value:c.name,label:c.alias||c.name})},this);b&&a.set("value",d)},_getDefaultFields:function(){var a,b=this._layerFieldMap[this.mapLayerSelect.get("value")],c=[];if(!b||!b.length)return f.add(this.searchesSection,"settingsHidden"),
g.set(this.errorSection,this.nls.errorSectionMessage),console.log("No fields found.");for(a=0;3>a;a++)c.push(b[a].alias);return c},setConfig:function(a){this.config=a;this.thumbnailCheckbox.set("checked",this.config.ObliqueViewer.showThumbnail);this.autoSyncCheckbox.set("checked",this.config.ObliqueViewer.autoSync);this.distanceToolCheckbox.set("checked",this.config.ObliqueViewer.showDistanceTools);n.isDefined(this.config.ObliqueViewer.searchRadius)&&this.searchRadiusSelect.set("value",this.config.ObliqueViewer.searchRadius);
this.config.ObliqueViewer.searchUnit&&this.searchUnitSelect.set("value",this.config.ObliqueViewer.searchUnit);this.config.ObliqueViewer.layerTitle&&this.mapLayerSelect.set("value",this.config.ObliqueViewer.layerTitle);this.config.ObliqueViewer.elevationField&&this.elevationFieldSelect.set("value",this.config.ObliqueViewer.elevationField);this.config.ObliqueViewer.azimuthField&&this.azimuthFieldSelect.set("value",this.config.ObliqueViewer.azimuthField);0<this.config.ObliqueViewer.rasterInfoFields.length?
this.rasterInfoFieldsSelect.set("value",this.config.ObliqueViewer.rasterInfoFields):this.rasterInfoFieldsSelect.set("value",this._getDefaultFields())},getConfig:function(){this.config.ObliqueViewer.autoSync=this.autoSyncCheckbox.checked;this.config.ObliqueViewer.showThumbnail=this.thumbnailCheckbox.checked;this.config.ObliqueViewer.showDistanceTools=this.distanceToolCheckbox.checked;this.searchRadiusSelect.get("value")&&(this.config.ObliqueViewer.searchRadius=this.searchRadiusSelect.get("value"));
this.config.ObliqueViewer.searchUnit=this.searchUnitSelect.get("value");this.config.ObliqueViewer.layerTitle=this.mapLayerSelect.get("value");this.config.ObliqueViewer.elevationField=this.elevationFieldSelect.get("value");this.config.ObliqueViewer.azimuthField=this.azimuthFieldSelect.get("value");this.config.ObliqueViewer.rasterInfoFields=this.rasterInfoFieldsSelect.get("value");return this.config}})});
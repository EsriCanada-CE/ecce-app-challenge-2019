// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/3.15/esri/copyright.txt and http://www.arcgis.com/apps/webappbuilder/copyright.txt for details.
//>>built
require({cache:{"widgets/SuitabilityModeler/WroContext":function(){define(["dojo/_base/declare","./wro/Context","jimu/dijit/Message"],function(a,k,f){return a([k],{showError:function(a,c){c&&c.message?this.showMessage(a,c.message):this.showMessage(a,c)},showMessage:function(a,c){new f({titleLabel:a,message:c})},showMessages:function(a,c,v){var l,h,m;l=document.createElement("div");"string"===typeof c&&0<c.length&&(h=document.createElement("p"),h.appendChild(document.createTextNode(c)),l.appendChild(h));
h=document.createElement("ul");l.appendChild(h);for(c=0;c<v.length;c++)m=document.createElement("li"),m.appendChild(document.createTextNode(v[c])),h.appendChild(m);new f({titleLabel:a,message:l})}})})},"widgets/SuitabilityModeler/wro/Context":function(){define(["dojo/_base/declare","dojo/_base/lang"],function(a,k){return a([],{allowSaveAs:!0,i18n:null,constructor:function(a){k.mixin(this,a)},checkMixedContent:function(a){"string"===typeof window.location.href&&0===window.location.href.indexOf("https://")&&
"string"===typeof a&&0===a.indexOf("http://")&&(a="https:"+a.substring("5"));return a},generateRandomId:function(){var a=null,a="function"===typeof Date.now?Date.now():(new Date).getTime(),l=(""+Math.random()).replace("0.","r");return(a+""+l).replace(/-/g,"")},getMap:function(){return null},showError:function(a,l){console.warn("wro/Context.showError",a,l)},showMessage:function(a,l){console.warn("wro/Context.showMessage",a,l)},showMessages:function(a,l,c){console.warn("wro/Context.showMessages",a,
l,c)}})})},"widgets/SuitabilityModeler/wro/PortalUtil":function(){define(["dojo/_base/declare","dojo/_base/lang","esri/request"],function(a,k,f){return a([],{portal:!0,portalUser:null,userContentUrl:null,constructor:function(a){k.mixin(this,a)},getItemUrl:function(a){return this.portal.portalUrl+"/sharing/rest/content/items/"+encodeURIComponent(a)},getSaveItemUrl:function(a,c,f){f=this.getUserContentUrl(f);a?(c&&(f+="/"+encodeURIComponent(c)),f+="/items/"+encodeURIComponent(a)+"/update"):(c&&(f+=
"/"+encodeURIComponent(c)),f+="/addItem");return f},getUserContentUrl:function(){return this.userContentUrl},makeMultiPartFormData:function(a){var c,f,l=new FormData;for(c in a)a.hasOwnProperty(c)&&(f=a[c],"snippet"!==c&&"description"!==c&&"text"!==c||null!==f||(f=""),l.append(c,f));return l},saveItem:function(a,c,k,r){a=this.getSaveItemUrl(a,k,r);c.f="json";c=this.makeMultiPartFormData(c);return f({url:a,form:c,handleAs:"json"},{usePost:!0})},readItem:function(a){a=this.getItemUrl(a);return f({url:a,
content:{f:"json"},handleAs:"json"},{})},readItemJsonData:function(a){a=this.getItemUrl(a)+"/data";return f({url:a,content:{f:"json"},handleAs:"json"},{})}})})},"widgets/SuitabilityModeler/wro/WeightedOverlayWidget":function(){define("dojo/text!./templates/WeightedOverlayWidget.html dojo/_base/declare dojo/_base/array dojo/dom-class dojo/dom-attr dojo/Deferred dojo/aspect dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin ./config ./WeightedOverlayService ./WeightedOverlayLayersSelector ./WeightedOverlayModelDesigner".split(" "),
function(a,k,f,l,c,v,r,h,m,t,y,p,x,w){var d=function(a,d){a&&(d?(a.setAttribute("disabled","disabled"),l.add(a,"jimu-state-disabled")):(a.removeAttribute("disabled"),l.remove(a,"jimu-state-disabled")))};return k([h,m,t],{chart:null,context:null,i18n:null,templateString:a,baseClass:"weighted-overlay-widget",widgetsInTemplate:!0,isRTL:!1,_tabsContainer:null,_layersTab:null,_modelTab:null,_chartTab:null,postCreate:function(){this.inherited(arguments);var a=this,q=y.getOptions(this.i18n);this.isRTL="ltr"===
document.dir?!1:!0;this.weightedOverlayService=new p(null,q);this.weightedOverlayService.context=this.context;this.weightedOverlayService.i18n=this.i18n;this.selectLayersView=new x({context:this.context,i18n:this.i18n,parent:this},this.selectLayersView);this.designModelView=new w({context:this.context,i18n:this.i18n,parent:this},this.designModelView);this.own(this.selectLayersView.on("selection-changed",function(){a._updateDesignModelButton(a.weightedOverlayModel)}),this.designModelView.on("model-validated",
function(b){b?(d(a.runModelButton,!1),d(a.saveAsButton,!1)):(d(a.runModelButton,!0),d(a.saveAsButton,!0))}));this.context.allowSaveAs||(this.saveAsButton.style.display="none");this.setupConnections()},initializeTabs:function(a){var b=this,d=this._layersTab={title:this.i18n.tabs.layers,content:this.selectLayersViewNode},z=this._modelTab={title:this.i18n.tabs.model,content:this.designModelViewNode},g=this._chartTab={title:this.i18n.tabs.chart,content:this.chartViewNode};this._tabsContainer=new a({tabs:[d,
z,g]},this.tabsNode);this._tabsContainer.startup();this.own(r.after(this._tabsContainer,"selectTab",function(a){a===d.title?(b._activeTab="layers",b.showSelectOverlayLayersView()):a===z.title?(b._activeTab="model",b.showDesignModelView()):a===g.title&&(b._activeTab="chart",b.showChartView())},!0))},onClose:function(){this.selectLayersView&&this.selectLayersView.hidePreviewLayer();this.chart&&this.chart.deactivate()},onOpen:function(){this.chart&&"chart"===this._activeTab&&this.chart.activate()},_setImageServiceLayerAttr:function(a){var b=
this;this.imageServiceLayer=a;this.weightedOverlayService.imageServiceLayer=this.imageServiceLayer;this._initModel();this.imageServiceLayer&&this.imageServiceLayer.url&&this.weightedOverlayService.initRasterLayers().then(function(){b._rasterLayersInitialized()})},_rasterLayersInitialized:function(){f.forEach(this.weightedOverlayModel.overlayLayers,function(a){var b=this.weightedOverlayService.getRasterLayer(a.id);this.weightedOverlayService.setOverlayLayerDefaults(a,b)},this);this.selectLayersView.set("model",
this.weightedOverlayModel);this.selectLayersView.set("weightedOverlayService",this.weightedOverlayService);this.selectLayersView.startup();this.designModelView.set("weightedOverlayService",this.weightedOverlayService);this.designModelView.set("model",this.weightedOverlayModel);this.designModelView.startup();this.weightedOverlayModel.overlayLayers&&0<this.weightedOverlayModel.overlayLayers.length?this._onShowModelClicked():this._onShowLayersClicked()},_initModel:function(){this.weightedOverlayModel=
this.imageServiceLayer&&this.imageServiceLayer.renderingRule?this.weightedOverlayService.imageServiceLayerToModel({renderingRule:this.imageServiceLayer.renderingRule.toJson()}):this.weightedOverlayService.createNewModel()},setupConnections:function(){var a=this;this.own(this.designModelView.on("model-clear",function(b){a.set("weightedOverlayModel",b);a.selectLayersView.set("model",b)}));this.own(this.designModelView.on("model-validated",function(b){b?(c.remove(a.runModelButton,"disabled"),c.remove(a.saveAsButton,
"disabled")):(c.set(a.runModelButton,"disabled","disabled"),c.set(a.saveAsButton,"disabled","disabled"))}))},showHideTransparencySlider:function(){if(this.selectLayersView&&this.selectLayersView.previewSlider){var a=this.transparentSliderToggle.getElementsByTagName("SPAN")[0];a&&(this.isTransparencySliderShow?(l.remove(this.selectLayersViewNode,"transparency-slider-show"),l.replace(a,"esri-icon-down","esri-icon-up")):(l.add(this.selectLayersViewNode,"transparency-slider-show"),l.replace(a,"esri-icon-up",
"esri-icon-down")),this.isTransparencySliderShow=!this.isTransparencySliderShow)}},showSelectOverlayLayersView:function(a){a&&a.preventDefault();this.chart&&this.chart.deactivate();a=this.isRTL?"right":"left";this.selectLayersView.set("model",this.weightedOverlayModel);this.designModelViewNode.style[a]="100%";this.selectLayersViewNode.style[a]="0%";this._updateDesignModelButton(this.weightedOverlayModel)},showDesignModelView:function(){var a=this.isRTL?"right":"left";this.selectLayersView.hidePreviewLayer();
this.chart&&this.chart.deactivate();this.designModelView.set("model",this.weightedOverlayModel);this.designModelViewNode.style[a]="0%";this.selectLayersViewNode.style[a]="-100%"},showChartView:function(){this.selectLayersView.hidePreviewLayer();this.chart&&this.chart.activate()},showSavePanel:function(){var a=this.savePanelNode;a.style.display="block";l.add(a,"show-panel-animated");setTimeout(function(){l.remove(a,"show-panel-animated")},400)},hideSavePanel:function(){var a=this.savePanelNode,d=new v;
setTimeout(function(){a.style.display="none";l.remove(a,"hide-panel-animated");d.resolve(!0)},400);l.add(a,"hide-panel-animated");return d},_onClearClick:function(a){this.clear();this._onShowLayersClicked(a)},_onRunClick:function(){this.imageServiceLayer&&this.imageServiceLayer.xtnModeler&&(this.imageServiceLayer.xtnModeler.forSaveAs=!1);this.designModelView&&this.designModelView.runModel()},_onSaveAsClick:function(){this.imageServiceLayer&&this.imageServiceLayer.xtnModeler&&(this.imageServiceLayer.xtnModeler.forSaveAs=
!0);this.designModelView&&this.designModelView.runModel({saveAs:!0})},_onShowLayersClicked:function(){this._tabsContainer&&this._layersTab?this._tabsContainer.selectTab(this._layersTab.title):this.showSelectOverlayLayersView()},_onShowModelClicked:function(){this._tabsContainer&&this._modelTab?this._tabsContainer.selectTab(this._modelTab.title):this.showDesignModelView()},clear:function(){this.designModelView&&this.designModelView.weightedOverlayService&&(this._resetRemapRangeValues(),this.designModelView.clearModel())},
_resetRemapRangeValues:function(){this.weightedOverlayService&&f.forEach(this.weightedOverlayService.rasterLayers,function(a){f.forEach(a.remapRanges,function(a){var d,b;try{b=a.originalOutputValue,d=typeof b,"undefined"!==d&&null!==b&&"number"===d&&!isNaN(b)&&isFinite(b)&&(a.outputValue=b)}catch(g){}})},this)},_updateDesignModelButton:function(a){a&&a.overlayLayers&&a.overlayLayers.length?d(this.designModelButton,!1):d(this.designModelButton,!0)}})})},"widgets/SuitabilityModeler/wro/config":function(){define([],
function(){return{getOptions:function(a){return{rasterFunctionName:"WeightedOverlay_7_1_9_colormap",histogramRasterFunctionName:"WeightedOverlay_7_0_9_histogram",rastersInFunction:15,colorMapArgName:"Colormap",colormapDefinitions:[{name:"1_9_green_yellow_red",label:a.wro.colorRampLabel["Green Yellow Red"],colors:[{label:a.util.colorRamp["1"],value:1,rgb:[38,115,0]},{label:a.util.colorRamp["2"],value:2,rgb:[86,148,0]},{label:a.util.colorRamp["3"],value:3,rgb:[39,181,0]},{label:a.util.colorRamp["4"],
value:4,rgb:[197,219,0]},{label:a.util.colorRamp["5"],value:5,rgb:[255,255,0]},{label:a.util.colorRamp["6"],value:6,rgb:[255,195,0]},{label:a.util.colorRamp["7"],value:7,rgb:[250,142,0]},{label:a.util.colorRamp["8"],value:8,rgb:[242,85,0]},{label:a.util.colorRamp["9"],value:9,rgb:[230,0,0]}]},{name:"1_9_red_yellow_green",label:a.wro.colorRampLabel["Red Yellow Green"],colors:[{label:a.util.colorRamp["1"],value:1,rgb:[230,0,0]},{label:a.util.colorRamp["2"],value:2,rgb:[242,85,0]},{label:a.util.colorRamp["3"],
value:3,rgb:[250,142,0]},{label:a.util.colorRamp["4"],value:4,rgb:[255,195,0]},{label:a.util.colorRamp["5"],value:5,rgb:[255,255,0]},{label:a.util.colorRamp["6"],value:6,rgb:[197,219,0]},{label:a.util.colorRamp["7"],value:7,rgb:[39,181,0]},{label:a.util.colorRamp["8"],value:8,rgb:[86,148,0]},{label:a.util.colorRamp["9"],value:9,rgb:[38,115,0]}]},{name:"1_9_yellow_to_dark_red",label:a.wro.colorRampLabel["Yellow to Dark Red"],colors:[{label:a.util.colorRamp["1"],value:1,rgb:[255,255,128]},{label:a.util.colorRamp["2"],
value:2,rgb:[252,233,106]},{label:a.util.colorRamp["3"],value:3,rgb:[250,209,85]},{label:a.util.colorRamp["4"],value:4,rgb:[247,190,67]},{label:a.util.colorRamp["5"],value:5,rgb:[242,167,46]},{label:a.util.colorRamp["6"],value:6,rgb:[207,122,31]},{label:a.util.colorRamp["7"],value:7,rgb:[173,83,19]},{label:a.util.colorRamp["8"],value:8,rgb:[138,46,10]},{label:a.util.colorRamp["9"],value:9,rgb:[107,0,0]}]},{name:"1_9_dark_red_to_yellow",label:a.wro.colorRampLabel["Dark Red to Yellow"],colors:[{label:a.util.colorRamp["1"],
value:1,rgb:[107,0,0]},{label:a.util.colorRamp["2"],value:2,rgb:[138,46,10]},{label:a.util.colorRamp["3"],value:3,rgb:[173,83,19]},{label:a.util.colorRamp["4"],value:4,rgb:[207,122,31]},{label:a.util.colorRamp["5"],value:5,rgb:[242,167,46]},{label:a.util.colorRamp["6"],value:6,rgb:[247,190,67]},{label:a.util.colorRamp["7"],value:7,rgb:[250,209,85]},{label:a.util.colorRamp["8"],value:8,rgb:[252,233,106]},{label:a.util.colorRamp["9"],value:9,rgb:[255,255,128]}]},{name:"1_9_light_gray_to_dark_gray",
label:a.wro.colorRampLabel["Light Gray to Dark Gray"],colors:[{label:a.util.colorRamp["1"],value:1,rgb:[219,219,219]},{label:a.util.colorRamp["2"],value:2,rgb:[196,196,196]},{label:a.util.colorRamp["3"],value:3,rgb:[176,176,176]},{label:a.util.colorRamp["4"],value:4,rgb:[156,156,156]},{label:a.util.colorRamp["5"],value:5,rgb:[135,135,135]},{label:a.util.colorRamp["6"],value:6,rgb:[117,117,117]},{label:a.util.colorRamp["7"],value:7,rgb:[99,99,99]},{label:a.util.colorRamp["8"],value:8,rgb:[84,84,84]},
{label:a.util.colorRamp["9"],value:9,rgb:[69,69,69]}]},{name:"1_9_dark_gray_to_light_gray",label:a.wro.colorRampLabel["Dark Gray to Light Gray"],colors:[{label:a.util.colorRamp["1"],value:1,rgb:[69,69,69]},{label:a.util.colorRamp["2"],value:2,rgb:[84,84,84]},{label:a.util.colorRamp["3"],value:3,rgb:[99,99,99]},{label:a.util.colorRamp["4"],value:4,rgb:[117,117,117]},{label:a.util.colorRamp["5"],value:5,rgb:[135,135,135]},{label:a.util.colorRamp["6"],value:6,rgb:[156,156,156]},{label:a.util.colorRamp["7"],
value:7,rgb:[176,176,176]},{label:a.util.colorRamp["8"],value:8,rgb:[196,196,196]},{label:a.util.colorRamp["9"],value:9,rgb:[219,219,219]}]},{name:"1_9_light_brown_to_dark_brown",label:a.wro.colorRampLabel["Light Brown to Dark Brown"],colors:[{label:a.util.colorRamp["1"],value:1,rgb:[250,233,212]},{label:a.util.colorRamp["2"],value:2,rgb:[242,208,184]},{label:a.util.colorRamp["3"],value:3,rgb:[235,187,160]},{label:a.util.colorRamp["4"],value:4,rgb:[224,163,135]},{label:a.util.colorRamp["5"],value:5,
rgb:[217,144,113]},{label:a.util.colorRamp["6"],value:6,rgb:[207,124,91]},{label:a.util.colorRamp["7"],value:7,rgb:[194,103,70]},{label:a.util.colorRamp["8"],value:8,rgb:[184,84,53]},{label:a.util.colorRamp["9"],value:9,rgb:[171,65,36]}]},{name:"1_9_dark_brown_to_light_brown",label:a.wro.colorRampLabel["Dark Brown to Light Brown"],colors:[{label:a.util.colorRamp["1"],value:1,rgb:[171,65,36]},{label:a.util.colorRamp["2"],value:2,rgb:[184,84,53]},{label:a.util.colorRamp["3"],value:3,rgb:[194,103,70]},
{label:a.util.colorRamp["4"],value:4,rgb:[207,124,91]},{label:a.util.colorRamp["5"],value:5,rgb:[217,144,113]},{label:a.util.colorRamp["6"],value:6,rgb:[224,163,135]},{label:a.util.colorRamp["7"],value:7,rgb:[235,187,160]},{label:a.util.colorRamp["8"],value:8,rgb:[242,208,184]},{label:a.util.colorRamp["9"],value:9,rgb:[250,233,212]}]},{name:"1_9_full_spectrum_bright_red_to_blue",label:a.wro.colorRampLabel["Full Spectrum - Bright Red to Blue"],colors:[{label:a.util.colorRamp["1"],value:1,rgb:[255,
0,0]},{label:a.util.colorRamp["2"],value:2,rgb:[255,119,0]},{label:a.util.colorRamp["3"],value:3,rgb:[255,200,0]},{label:a.util.colorRamp["4"],value:4,rgb:[238,255,56]},{label:a.util.colorRamp["5"],value:5,rgb:[182,255,143]},{label:a.util.colorRamp["6"],value:6,rgb:[89,255,225]},{label:a.util.colorRamp["7"],value:7,rgb:[51,194,255]},{label:a.util.colorRamp["8"],value:8,rgb:[56,106,255]},{label:a.util.colorRamp["9"],value:9,rgb:[0,0,255]}]},{name:"1_9_full_spectrum_bright_blue_to_red",label:a.wro.colorRampLabel["Full Spectrum - Bright Blue to Red"],
colors:[{label:a.util.colorRamp["1"],value:1,rgb:[0,0,255]},{label:a.util.colorRamp["2"],value:2,rgb:[56,106,255]},{label:a.util.colorRamp["3"],value:3,rgb:[51,194,255]},{label:a.util.colorRamp["4"],value:4,rgb:[89,255,225]},{label:a.util.colorRamp["5"],value:5,rgb:[182,255,143]},{label:a.util.colorRamp["6"],value:6,rgb:[238,255,56]},{label:a.util.colorRamp["7"],value:7,rgb:[255,200,0]},{label:a.util.colorRamp["8"],value:8,rgb:[255,119,0]},{label:a.util.colorRamp["9"],value:9,rgb:[255,0,0]}]},{name:"1_9_partial_spectrum_yellow_to_blue",
label:a.wro.colorRampLabel["Partial Spectrum - Yellow to Blue"],colors:[{label:a.util.colorRamp["1"],value:1,rgb:[242,241,162]},{label:a.util.colorRamp["2"],value:2,rgb:[252,250,98]},{label:a.util.colorRamp["3"],value:3,rgb:[255,255,0]},{label:a.util.colorRamp["4"],value:4,rgb:[255,149,0]},{label:a.util.colorRamp["5"],value:5,rgb:[255,0,0]},{label:a.util.colorRamp["6"],value:6,rgb:[245,5,189]},{label:a.util.colorRamp["7"],value:7,rgb:[176,7,237]},{label:a.util.colorRamp["8"],value:8,rgb:[99,24,204]},
{label:a.util.colorRamp["9"],value:9,rgb:[7,29,173]}]},{name:"1_9_partial_spectrum_blue_to_yellow",label:a.wro.colorRampLabel["Partial Spectrum - Blue to Yellow"],colors:[{label:a.util.colorRamp["1"],value:1,rgb:[7,29,173]},{label:a.util.colorRamp["2"],value:2,rgb:[99,24,204]},{label:a.util.colorRamp["3"],value:3,rgb:[176,7,237]},{label:a.util.colorRamp["4"],value:4,rgb:[245,5,189]},{label:a.util.colorRamp["5"],value:5,rgb:[255,0,0]},{label:a.util.colorRamp["6"],value:6,rgb:[255,149,0]},{label:a.util.colorRamp["7"],
value:7,rgb:[255,255,0]},{label:a.util.colorRamp["8"],value:8,rgb:[252,250,98]},{label:a.util.colorRamp["9"],value:9,rgb:[242,241,162]}]},{name:"1_9_yellow_green_to_dark_blue",label:a.wro.colorRampLabel["Yellow-Green to Dark Blue"],colors:[{label:a.util.colorRamp["1"],value:1,rgb:[255,255,128]},{label:a.util.colorRamp["2"],value:2,rgb:[182,245,88]},{label:a.util.colorRamp["3"],value:3,rgb:[113,235,47]},{label:a.util.colorRamp["4"],value:4,rgb:[59,214,45]},{label:a.util.colorRamp["5"],value:5,rgb:[61,
184,104]},{label:a.util.colorRamp["6"],value:6,rgb:[42,156,154]},{label:a.util.colorRamp["7"],value:7,rgb:[33,110,158]},{label:a.util.colorRamp["8"],value:8,rgb:[31,62,140]},{label:a.util.colorRamp["9"],value:9,rgb:[12,16,120]}]},{name:"1_9_dark_blue_to_yellow_green",label:a.wro.colorRampLabel["Dark Blue to Yellow-Green"],colors:[{label:a.util.colorRamp["1"],value:1,rgb:[12,16,120]},{label:a.util.colorRamp["2"],value:2,rgb:[31,62,140]},{label:a.util.colorRamp["3"],value:3,rgb:[33,110,158]},{label:a.util.colorRamp["4"],
value:4,rgb:[42,156,154]},{label:a.util.colorRamp["5"],value:5,rgb:[61,184,104]},{label:a.util.colorRamp["6"],value:6,rgb:[59,214,45]},{label:a.util.colorRamp["7"],value:7,rgb:[113,235,47]},{label:a.util.colorRamp["8"],value:8,rgb:[182,245,88]},{label:a.util.colorRamp["9"],value:9,rgb:[255,255,128]}]},{name:"1_9_cold_to_hot_diverging",label:a.wro.colorRampLabel["Cold to Hot Diverging"],colors:[{label:a.util.colorRamp["1"],value:1,rgb:[40,146,199]},{label:a.util.colorRamp["2"],value:2,rgb:[109,169,
179]},{label:a.util.colorRamp["3"],value:3,rgb:[160,194,155]},{label:a.util.colorRamp["4"],value:4,rgb:[206,222,129]},{label:a.util.colorRamp["5"],value:5,rgb:[250,250,100]},{label:a.util.colorRamp["6"],value:6,rgb:[252,196,76]},{label:a.util.colorRamp["7"],value:7,rgb:[250,141,52]},{label:a.util.colorRamp["8"],value:8,rgb:[242,89,34]},{label:a.util.colorRamp["9"],value:9,rgb:[232,16,20]}]},{name:"1_9_hot_to_cold_diverging",label:a.wro.colorRampLabel["Hot to Cold Diverging"],colors:[{label:a.util.colorRamp["1"],
value:1,rgb:[232,16,20]},{label:a.util.colorRamp["2"],value:2,rgb:[242,89,34]},{label:a.util.colorRamp["3"],value:3,rgb:[250,141,52]},{label:a.util.colorRamp["4"],value:4,rgb:[252,196,76]},{label:a.util.colorRamp["5"],value:5,rgb:[250,250,100]},{label:a.util.colorRamp["6"],value:6,rgb:[206,222,129]},{label:a.util.colorRamp["7"],value:7,rgb:[160,194,155]},{label:a.util.colorRamp["8"],value:8,rgb:[109,169,179]},{label:a.util.colorRamp["9"],value:9,rgb:[40,146,199]}]},{name:"1_9_surface_low_to_high",
label:a.wro.colorRampLabel["Surface - Low to High"],colors:[{label:a.util.colorRamp["1"],value:1,rgb:[112,153,89]},{label:a.util.colorRamp["2"],value:2,rgb:[176,196,124]},{label:a.util.colorRamp["3"],value:3,rgb:[242,238,162]},{label:a.util.colorRamp["4"],value:4,rgb:[242,224,150]},{label:a.util.colorRamp["5"],value:5,rgb:[242,206,133]},{label:a.util.colorRamp["6"],value:6,rgb:[217,169,130]},{label:a.util.colorRamp["7"],value:7,rgb:[194,140,124]},{label:a.util.colorRamp["8"],value:8,rgb:[255,184,
193]},{label:a.util.colorRamp["9"],value:9,rgb:[255,242,255]}]},{name:"1_9_surface_high_to_low",label:a.wro.colorRampLabel["Surface - High to Low"],colors:[{label:a.util.colorRamp["1"],value:1,rgb:[255,242,255]},{label:a.util.colorRamp["2"],value:2,rgb:[255,184,193]},{label:a.util.colorRamp["3"],value:3,rgb:[194,140,124]},{label:a.util.colorRamp["4"],value:4,rgb:[217,169,130]},{label:a.util.colorRamp["5"],value:5,rgb:[242,206,133]},{label:a.util.colorRamp["6"],value:6,rgb:[242,224,150]},{label:a.util.colorRamp["7"],
value:7,rgb:[242,238,162]},{label:a.util.colorRamp["8"],value:8,rgb:[176,196,124]},{label:a.util.colorRamp["9"],value:9,rgb:[112,153,89]}]}]}}}})},"widgets/SuitabilityModeler/wro/WeightedOverlayService":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/string dojo/number esri/request esri/layers/RasterFunction ./rasterFunctions".split(" "),function(a,k,f,l,c,v,r,h){var m=function(a,b){var d;if(!a||!b)return!1;d=a.length;if(d!==b.length)return!1;for(var n=0;n<d;n++)if(a[n]instanceof
Array&&b[n]instanceof Array){if(!a[n].compare(b[n]))return!1}else if(a[n]!==b[n])return!1;return!0},t=function(a){try{if(a.attributes&&"ForestFragmentation_US_USFS_2002"===a.attributes.Name&&"Forest Fragmentation"===a.attributes.Title&&49===a.attributes.OBJECTID)return null}catch(u){}a=a.attributes;var b,d,n,z,g,c;a&&(c={id:a.OBJECTID,name:a.Name,title:a.Title,url:a.Url,metadata:a.Metadata},a.InputRanges&&a.InputRanges.split&&"undefined"!==typeof a.OutputValues&&a.OutputValues.split&&(b=f.map(a.InputRanges.split(","),
function(a){return parseFloat(a.trim())}),d=f.map(a.OutputValues.split(","),function(a){return parseInt(a.trim(),10)}),a.RangeLabels&&a.RangeLabels.split&&(z=f.map(a.RangeLabels.split(","),function(a){return a.trim()}))),a.NoDataRanges&&a.NoDataRanges.split&&(n=f.map(a.NoDataRanges.split(","),function(a){return parseFloat(a.trim())}),a.NoDataRangeLabels&&a.NoDataRangeLabels.split&&(g=f.map(a.NoDataRangeLabels.split(","),function(a){return a.trim()}))),c.remapRanges=w.createRemapRanges(b,d,n,{labels:z,
noDataLabels:g}));return c},y=function(a){return f.map(a.colors,function(a){return[a.value].concat(a.rgb)})},p=function(a,b){var d=[],n=0;a&&a.overlayLayers&&a.overlayLayers.push?0<a.overlayLayers.length?(f.forEach(a.overlayLayers,function(a,g){n+=a.weight;a.remapRanges&&a.remapRanges.push&&0<a.remapRanges.length?f.forEach(a.remapRanges,function(a,n){(isNaN(a.outputValue)||null===a.outputValue)&&d.push(l.substitute(b.wro.validation.overlayLayerOutputInvalid,[g,n]));(isNaN(a.inputMin)||null===a.inputMin||
isNaN(a.inputMax)||null===a.inputMax||a.inputMin>a.inputMax)&&d.push(l.substitute(b.wro.validation.overlayLayerInputInvalid,[g,n]))}):d.push(l.substitute(b.wro.validation.overlayLayerRangesMissing,[g]))}),100!==n&&d.push(b.wro.validation.overlayLayerWeight)):d.push(b.wro.validation.overlayLayerRequired):d.push(b.wro.validation.overlayLayerNotDefined);return d},x=function(a,b,q){a+="/computeHistograms";var d={geometryType:"esriGeometryPolygon",f:"json"};d.geometry=window.JSON.stringify(b);q&&(q.renderingRule&&
(d.renderingRule=window.JSON.stringify(q.renderingRule)),q.pixelSize&&(d.pixelSize=window.JSON.stringify(q.pixelSize)));return v({url:a,content:d,handleAs:"json",callbackParamName:"callback"})},w={rasterFunctionArgumentsToRemapRanges:function(a,b){var d,n,z,g;a&&(n=k.mixin({inputRangesArgumentName:"InputRanges",outputValuesArgumentName:"OutputValues",noDataRangesArgumentName:"NoDataRanges",labelsArgumentName:"Labels",noDataLabelsArgumentName:"NoDataLabels"},b),b=a[n.inputRangesArgumentName],d=a[n.outputValuesArgumentName],
z=a[n.noDataRangesArgumentName],g=a[n.labelsArgumentName],a=a[n.noDataLabelsArgumentName],d=this.createRemapRanges(b,d,z,{labels:g,noDataLabels:a,sortBy:"inputMin"}));return d},createRemapRanges:function(a,b,q,n){var d=[],g=!1,c,u,e;n&&(c=n.labels,u=n.noDataLabels,e=n.sortBy);a&&a.push&&b&&b.push&&a.length===2*b.length&&(g=c&&c.push&&c.length===b.length,f.forEach(b,function(e,b){var B=2*b;e={inputMin:a[B],inputMax:a[B+1],outputValue:e,originalOutputValue:e};e.label=g?c[b]:this.getRangeString(e.inputMin,
e.inputMax);d.push(e)},this));q&&q.push&&0<q.length&&(g=u&&u.push&&u.length===q.length/2,f.forEach(q,function(a,e){0===e%2&&(a={inputMin:a,inputMax:q[e+1],outputValue:0,originalOutputValue:0},a.label=g?u[e]:this.getRangeString(a.inputMin,a.inputMax),d.push(a))},this));if(0<d.length)return e&&d.sort(function(a,b){return a[e]<b[e]?-1:a[e]>b[e]?1:0}),d},getRangeString:function(a,b){return a===b?a+"":a+" - "+b},remapRangesToRasterFunctionArguments:function(a,b){var d,n,c,g,h,u;a&&(d={},b=k.mixin({includeLabels:!0,
inputRangesArgumentName:"InputRanges",outputValuesArgumentName:"OutputValues",noDataRangesArgumentName:"NoDataRanges",labelsArgumentName:"Labels",noDataLabelsArgumentName:"NoDataLabels"},b),n=[],c=[],g=[],h=[],u=[],f.forEach(a,function(a){var e=a.label||this.getRangeString(a.inputMin,a.inputMax);a.outputValue?(n.push(a.inputMin),n.push(a.inputMax),c.push(a.outputValue),h.push(e)):(g.push(a.inputMin),g.push(a.inputMax),u.push(e))},this),0<c.length&&(d[b.inputRangesArgumentName]=n,d[b.outputValuesArgumentName]=
c,b.includeLabels&&(d[b.labelsArgumentName]=h)),0<g.length&&(d[b.noDataRangesArgumentName]=g,b.includeLabels&&(d[b.noDataLabelsArgumentName]=u)));return d},getRemapRangeByValue:function(a,b){var d;(b||0===b)&&f.some(a,function(a){return b===a.inputMin&&b===a.inputMax||b>=a.inputMin&&b<a.inputMax?(d=a,!0):!1});return d},findRemapRange:function(a,b){var d,n;if(a&&b)return f.some(a,function(a){if((b.inputMin||0===b.inputMin)&&(b.inputMax||0===b.inputMax))return(d=a.inputMin===b.inputMin&&a.inputMax===
b.inputMax)&&(n=a),d}),n}};return a([],{context:null,i18n:null,constructor:function(a,b){b=b||{};this.imageServiceLayer=a;this.rasterFunctionName=b.rasterFunctionName||"";this.histogramRasterFunctionName=b.histogramRasterFunctionName||"";this.rastersInFunction=b.rastersInFunction||0;this.variableName=b.variableName||"Raster";this.colorMapArgName=b.colorMapArgName||"Colormap";this.dummyRasterId=b.dummyRasterId||1;this.colormapDefinitions=b.colormapDefinitions||[];this.argumentNamePrefixes=k.mixin({id:"Raster",
weight:"Weight_Raster",inputRanges:"InputRanges_Raster",outputValues:"OutputValues_Raster",noDataRanges:"NoDataRanges_Raster",labels:"Labels_Raster",noDataLabels:"NoDataLabels"},b.argumentNamePrefixes);this.queryParameters=k.mixin({where:"1\x3d1",outFields:["*"],returnGeometry:!1},b.queryParameters);this.rasterLayers=b.rasterLayers||[]},initRasterLayers:function(a){var b=this;return this.queryRasters().then(function(d){return b._initRasterLayers(d.features,a)})},queryRasters:function(a){var b=this.imageServiceLayer.url+
"/query";a=k.mixin(k.mixin({f:"json"},a),this.queryParameters);a.outFields&&a.outFields.join&&(a.outFields=a.outFields.join(","));return v({url:b,content:a,handleAs:"json",callbackParamName:"callback"})},_initRasterLayers:function(a,b){var d=this.context;try{this.dummyRasterId=1,this.imageServiceLayer&&this.imageServiceLayer.url&&-1!==this.imageServiceLayer.url.indexOf("//landscape3.arcgis.com")&&(this.dummyRasterId=53)}catch(g){}var n=this,c;b=(b||{}).featureCompareFunc||function(a,b){return a.attributes.Title<
b.attributes.Title?-1:a.attributes.Title>b.attributes.Title?1:0};a&&a.length&&0<a.length&&a[0].attributes&&(n.rasterLayers&&n.rasterLayers.push?n.rasterLayers.length=0:n.rasterLayers=[],b&&a.sort(b),f.forEach(a,function(a){if(c=t(a))c.url=d.checkMixedContent(c.url),n.rasterLayers.push(c)}));return n.rasterLayers},createNewModel:function(){var a={overlayLayers:[]};this.colormapDefinitions&&this.colormapDefinitions instanceof Array&&0<this.colormapDefinitions.length&&(a.colormapDefinition=this.colormapDefinitions[0]);
return a},getRasterLayer:function(a){var b;f.some(this.rasterLayers,function(d){if(d.id===a)return b=d,!1});return b},setOverlayLayerDefaults:function(a,b){b&&(b.remapRanges&&a.remapRanges&&f.forEach(b.remapRanges,function(b){var d;b.label&&(d=w.findRemapRange(a.remapRanges,{inputMin:b.inputMin,inputMax:b.inputMax}))&&(d.label=b.label)},this),a.title=b.title)},operationalLayersToModel:function(a){var b,d=this.rasterFunctionName;d&&f.some(a,function(a){return a.renderingRule&&a.renderingRule&&a.renderingRule.rasterFunction===
d?(b=a,!0):!1},this);return this.imageServiceLayerToModel(b)},imageServiceLayerToModel:function(a){var b=this,d,n,c,g,h;g=a.renderingRule;if(a&&g){d={overlayLayers:[]};if(this.rasterFunctionName===g.rasterFunction){c=new RegExp("^"+this.argumentNamePrefixes.id+"[1-9]+$");g=g.rasterFunctionArguments;a.remapRangeLabels&&k.mixin(g,a.remapRangeLabels);a.noDataRangeLabels&&k.mixin(g,a.noDataRangeLabels);for(var u in g)u.match(c)?(h=u.replace(this.argumentNamePrefixes.id,""),n={id:parseInt(g[u].replace("$",
""),10)},a=this.argumentNamePrefixes.weight+h,n.weight=g[a],n.weight&&0<n.weight&&(n.weight*=100,n=k.mixin(this.getRasterLayer(n.id)||{},n),n.remapRanges=w.rasterFunctionArgumentsToRemapRanges(g,{inputRangesArgumentName:this.argumentNamePrefixes.inputRanges+h,outputValuesArgumentName:this.argumentNamePrefixes.outputValues+h,noDataRangesArgumentName:this.argumentNamePrefixes.noDataRanges+h,labelsArgumentName:this.argumentNamePrefixes.labels+h,noDataLabelsArgumentName:this.argumentNamePrefixes.noDataLabels+
h}),d.overlayLayers.push(n))):u===this.colorMapArgName&&(d.colormapDefinition=this.findColormapDefinition(g[u]))}else c=g,g=c.rasterFunctionArguments,"Colormap"===c.rasterFunction&&(d.colormapDefinition=this.findColormapDefinition(g.Colormap),c=g.Raster,g=c.rasterFunctionArguments),"Local"===c.rasterFunction&&49===g.Operation?(c=g.Rasters[0],g=c.rasterFunctionArguments):"Local"===c.rasterFunction&&48===g.Operation&&(g.Operation=49,c=g.Rasters[0],g=c.rasterFunctionArguments),"Local"===c.rasterFunction&&
55===g.Operation&&(d.overlayLayers=f.map(g.Rasters,function(a){var e={};f.forEach(a.rasterFunctionArguments.Rasters,function(a){isNaN(a)?(e.id=parseInt(a.rasterFunctionArguments.Raster.substr(1),10),e=k.mixin(b.getRasterLayer(e.id)||{},e),e.remapRanges=w.rasterFunctionArgumentsToRemapRanges(a.rasterFunctionArguments)):e.weight=100*a});return e}));return d}},findColormapDefinition:function(a){var b;f.some(this.colormapDefinitions,function(d){var c=!1;return(c=f.every(d.colors,function(b,g){return m([b.value].concat(b.rgb),
a[g])}))?(b=d,!0):!1});return b},modelToOperationalLayers:function(a,b){return[this.modelToImageServiceLayer(a,b)]},modelToImageServiceLayer:function(a,b){var d={id:this.imageServiceLayer.id,url:this.imageServiceLayer.url,opacity:this.imageServiceLayer.opacity,title:"Weighted Overlay Model"};a=this.getRasterFunction(a.overlayLayers,a.colormapDefinition,{includeLabels:!0});var c={},h={},g;for(g in a.arguments)0===g.indexOf(this.argumentNamePrefixes.labels)?(c[g]=a.arguments[g],delete a.arguments[g]):
0===g.indexOf(this.argumentNamePrefixes.noDataLabels)&&(h[g]=a.arguments[g],delete a.arguments[g]);d.renderingRule=a.toJson();d.remapRangeLabels=c;d.noDataRangeLabels=h;b&&b.modelTitle&&(d.title=b.modelTitle);return d},getRasterFunction:function(a,b,q){var d=[];f.forEach(a,function(a){0<a.weight&&d.push(a)});if(10.3<=this.imageServiceLayer.version){var m=f.map(d,function(a){var e=w.remapRangesToRasterFunctionArguments(a.remapRanges);e.Raster="$"+a.id;e.weight=a.weight/100;return e}),g;b&&(g=y(b));
b=h.createWeightedSumParams(m,g);return new r(b)}g=new r;a=d.length;var p={};q=k.mixin({rasterFunctionName:this.rasterFunctionName,rastersInFunction:this.rastersInFunction,argumentNamePrefixes:this.argumentNamePrefixes,variableName:this.variableName,dummyRasterId:this.dummyRasterId,includeLabels:!1},q);var u;g.functionName=q.rasterFunctionName;q.variableName&&(g.variableName=q.variableName);for(var e=1;e<=q.rastersInFunction;e++)u=e<=a?d[e-1]:{id:q.dummyRasterId,weight:0},p[q.argumentNamePrefixes.id+
e]="$"+u.id,p[q.argumentNamePrefixes.weight+e]=c.round(u.weight/100,2),0<u.weight&&u.remapRanges&&(u=w.remapRangesToRasterFunctionArguments(u.remapRanges,{includeLabels:q.includeLabels,inputRangesArgumentName:q.argumentNamePrefixes.inputRanges+e,outputValuesArgumentName:q.argumentNamePrefixes.outputValues+e,noDataRangesArgumentName:q.argumentNamePrefixes.noDataRanges+e,labelsArgumentName:q.argumentNamePrefixes.labels+e,noDataLabelsArgumentName:q.argumentNamePrefixes.noDataLabels+e}),k.mixin(p,u));
if(this.colorMapArgName){b&&(m=y(b));if(!m)throw this.i18n.wro.validation.requiresColormap;p[this.colorMapArgName]=m}g.arguments=p;return g},validateModel:function(a){a=p(a,this.i18n);return{isValid:1>a.length,modelErrors:a}},runModel:function(a){var b;if(this.imageServiceLayer)if(b=p(a,this.i18n),1>b.length)this.imageServiceLayer.setRenderingRule(this.getRasterFunction(a.overlayLayers,a.colormapDefinition));else throw this.context.showMessages(this.i18n.wro.validation.createModelError,"",b),this.wro.validation.invalidModel+
":\n\n"+b.join("\n");else throw this.i18n.wro.validation.imageServiceNotDefined;},clearModel:function(){this.imageServiceLayer&&null!==this.imageServiceLayer.renderingRule&&this.imageServiceLayer.setRenderingRule(null)},getHistogram:function(a,b,c){var d=k.mixin({},c);if(this.histogramRasterFunctionName){if(this.imageServiceLayer){c=p(a,this.i18n);if(1>c.length)return d.renderingRule=this.getRasterFunction(a.overlayLayers,a.colormapDefinition,{rasterFunctionName:this.histogramRasterFunctionName}).toJson(),
x(this.imageServiceLayer.url,b,d).then(function(a){return a.histograms[0]});throw this.i18n.wro.validation.invalidModel+":\n\n"+c.join("\n");}throw this.i18n.wro.validation.imageLayerNotDefined;}throw this.i18n.wro.validation.histogramNotDefined;},getModelPixelSize:function(a,b){var c=this.imageServiceLayer;b=k.mixin({width:c.maxImageWidth,height:c.maxImageHeight},b);var d=Math.max(c.pixelSizeX,Math.ceil(a.getWidth()/b.width));a=Math.max(c.pixelSizeY,Math.ceil(a.getHeight()/b.height));b.forceSquare?
(a={x:Math.max(d,a)},a.y=a.x):a={x:d,y:a};return a},getColormapDefinition:function(a){var b;f.some(this.colormapDefinitions,function(c){if(c.id===a)return b=c,!1});return b}})})},"widgets/SuitabilityModeler/wro/rasterFunctions":function(){(function(a,k){"function"===typeof define&&define.amd?define([],k):"object"===typeof exports?module.exports=k():a.rasterFunctions=k()})(this,function(){return{createColormapParams:function(a){a||(a={});return{rasterFunction:"Colormap",rasterFunctionArguments:{Raster:a.raster||
"$$",Colormap:a.colormap||[]}}},createRemapParams:function(a){a||(a={});return{rasterFunction:"Remap",rasterFunctionArguments:{Raster:a.Raster||"$$",UseTable:!1,InputRanges:a.InputRanges||[],OutputValues:a.OutputValues||[],NoDataRanges:a.NoDataRanges||[],AllowUnmatched:!0}}},createLocalParams:function(a,k){k||(k={});a={rasterFunction:"Local",rasterFunctionArguments:{Operation:a,ExtentType:0,CellsizeType:1,Rasters:k.rasters||[]}};k.outputPixelType&&(a.outputPixelType=k.outputPixelType);return a},createWeightedSumParams:function(a,
k){a=a.map(function(a){var f=this.createRemapParams(a);return this.createLocalParams(3,{rasters:[f,a.weight]})},this);a=this.createLocalParams(55,{rasters:a});a=this.createLocalParams(49,{rasters:[a],outputPixelType:"U8"});return this.createColormapParams({raster:a,colormap:k})}}})},"widgets/SuitabilityModeler/wro/WeightedOverlayLayersSelector":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/on dojo/Evented dojo/dom-class dojo/string dijit/registry dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dijit/_Container dijit/TooltipDialog dijit/popup esri/IdentityManager esri/request esri/layers/ArcGISImageServiceLayer ./containerUtils dojo/text!./templates/WeightedOverlayLayerSelector.html dijit/form/HorizontalSlider dijit/form/CheckBox".split(" "),
function(a,k,f,l,c,v,r,h,m,t,y,p,x,w,d,b,q,n,z,g){var A=a([m,t,y,c],{context:null,i18n:null,templateString:z,baseClass:"weighted-overlay-layer-selector",_parentWgt:null,_setRasterLayerAttr:function(a){this.chkModelLayer.set("value",a.id.toString());this.chkModelLayer.set("title",a.title);this.txtLabel.innerHTML=a.title},_setTooltipDialogAttr:function(a){var e=this;this.tooltipDialog=a;this.own(l(a,"MouseLeave",function(){w.close(e.tooltipDialog)}))},postCreate:function(){var a=this,e=this.chkModelLayer,
b=this.btnInfo;this.txtLabel.setAttribute("for",e.id);this.showPreview&&this.rasterLayer.url?this.own(l(this.btnPreview,"click",function(){a.emit("PreviewClick",a.rasterLayer.url,a.btnPreview)})):(this.btnPreview.style||(this.btnPreview.style={}),this.btnPreview.style.display="none");this.showInfo&&this.rasterLayer.url||this.showInfo&&this.rasterLayer.metadata?this.own(l(b,"click",function(){a.showInfoTooltip()})):this.btnInfo.style.display="none";this.own(l(e,"change",function(){a._parentWgt._onContainerNodeChange({target:e.focusNode})}))},
showInfoTooltip:function(){var a=this.rasterLayer.metadata;a&&(0<=a.indexOf("https")||0<=a.indexOf("http")||(a=null));var e=this;a?e._showInfoTooltip(e.rasterLayer.title,e.rasterLayer.metadata):this.rasterLayer.url?b({url:this.rasterLayer.url+"/info/iteminfo",content:{f:"json"},handleAs:"json",callbackParamName:"callback"}).then(function(a){e.rasterLayer.infoText=a.snippet||a.summary||a.description;e._showInfoTooltip(e.rasterLayer.infoText,e.rasterLayer.url)}):this.context.showMessage(this.i18n.wro.caption,
this.i18n.wro.validation.invalidLink)},_showInfoTooltip:function(a,e){var b;this.tooltipDialog&&(w.close(this.tooltipDialog),(b=d.findCredential(e))&&b.token&&(e+=(-1<e.indexOf("?")?"\x26":"?")+"token\x3d"+b.token),a+=" \x3ca href\x3d"+e+" target\x3d'_blank'\x3e"+this.i18n.wro.readMore+"\x3c/a\x3e",this.tooltipDialog.set("content",a),w.open({popup:this.tooltipDialog,around:this.btnInfo,orient:["before-centered","before"]}))},setSelected:function(a){this.chkModelLayer.set("checked",a)}});return a([m,
p,c],{context:null,i18n:null,showPreview:!0,showInfo:!0,_setWeightedOverlayServiceAttr:function(a){this.setWeightedOverlayService(a)},_setModelAttr:function(a){this.setModel(a)},buildRendering:function(){this.inherited(arguments);var a=document.createElement("div");a.className="transparency-container";var e=this.domNode;this.parent&&this.parent.selectLayersViewHeader&&(e=this.parent.selectLayersViewHeader);e.appendChild(a);this.previewSlider=new g({minimum:0,maximum:1,value:.2,intermediateChanges:!0,
showButtons:!1,"class":"modeler-transparency-slider slider-primary"});this.previewSlider.placeAt(a,"last");this.containerNode=document.createElement("div");this.containerNode.setAttribute("class","modeler-scroll-panel");this.domNode.appendChild(this.containerNode);this.tooltipDialog=new x({style:"width: 300px;"})},postCreate:function(){var a=this;this.own(l(this.previewSlider,"change",function(){a.updatePreviewOpacity()}))},_onContainerNodeChange:function(a){var e=a.target,b;if("checkbox"===e.type){b=
this._getLayerIdFromCheckbox(e);if(e.checked){e=this.getOverlayLayer(b);try{this.addOverlayLayer(e||{id:b,weight:0})}catch(D){(a=h.byId(a.target.id))&&a.set("checked",!1),this._showError(D)}}else this.removeOverlayLayer(b);this.emit("selection-changed")}},_getLayerIdFromCheckbox:function(a){var e;try{e=parseInt(a.value,10)}catch(B){e=a.value}return e},_showError:function(a){this.context.showError(this.i18n.wro.caption,a)},setWeightedOverlayService:function(a){this.weightedOverlayService=a;this._initLayerSelectors(this.weightedOverlayService.rasterLayers)},
_initLayerSelectors:function(a){var e=this;n.removeChildren(this);f.forEach(a,function(a){var b=this.getOverlayLayer(a.id);a=new A({context:e.context,i18n:e.i18n,rasterLayer:a,tooltipDialog:this.tooltipDialog,showPreview:this.showPreview,showInfo:this.showInfo,_parentWgt:e});a.setSelected(b?!0:!1);a.startup();this.own(l(a,"PreviewClick",function(a,b){e._OnPreviewClick(a,b)}));this.addChild(a)},this)},setModel:function(a){this.model=a;a=this.containerNode.querySelectorAll('input[name\x3d"wro-selected-layers"]');
f.forEach(a,function(a){var e=this._getLayerIdFromCheckbox(a);a=h.byId(a.id);var b=f.some(this.model.overlayLayers,function(a){return a.id===e});a.set("checked",b)},this)},_OnPreviewClick:function(a,e){a&&(this._selectedPreviewNode&&this._previewLayer&&this._previewLayer.url===a?this.hidePreviewLayer():(this.hidePreviewLayer(),this._setPreviewLayer(a),this._selectedPreviewNode&&v.remove(this._selectedPreviewNode,"checked"),this._selectedPreviewNode=e,v.add(this._selectedPreviewNode,"checked")))},
hidePreviewLayer:function(){if(this._previewLayer)if(this._previewLayer._map)try{this._previewLayer._map.removeLayer(this._previewLayer),this._previewLayer=null}catch(u){console.warn("Error removing wro preview layer"),console.error(u)}else this._previewLayer.hide();this._selectedPreviewNode&&(v.remove(this._selectedPreviewNode,"checked"),this._selectedPreviewNode=null)},_setPreviewLayer:function(a){var e=k.mixin({id:this.context.generateRandomId()},this.previewLayerOptions),b=this.map||this.context.getMap()||
this.weightedOverlayService.imageServiceLayer.getMap();if(b){a:{var g=b.getLayer(e.id);if(g){if(g.url===a){b=g;break a}b.removeLayer(g)}a=new q(a,e);b=b.addLayer(a)}this._previewLayer=b;this.updatePreviewOpacity();this._previewLayer.show()}},updatePreviewOpacity:function(){this._previewLayer&&this._previewLayer.setOpacity(1-this.previewSlider.value)},showPreviewLayer:function(){this._previewLayer&&this._previewLayer.show()},addOverlayLayer:function(a){var e;if(this.weightedOverlayService)if(e=this.weightedOverlayService.rastersInFunction,
this.model.overlayLayers.length<e||!e)if(e=this.weightedOverlayService.getRasterLayer(a.id))a.name=e.name,a.url=e.url,a.title=e.title,a.remapRanges||(a.remapRanges=e.remapRanges),this.removeOverlayLayer(a.id),this.model.overlayLayers.push(a);else throw r.substitute(this.i18n.wro.validation.notFound,[a.id]);else throw r.substitute(this.i18n.wro.validation.maxLayers,[e]);else throw this.i18n.wro.validation.wroServiceNotDefined;},getOverlayLayer:function(a){var e;this.model&&this.model.overlayLayers&&
f.some(this.model.overlayLayers,function(b){if(b.id===a)return e=b,!1});return e},removeOverlayLayer:function(a){for(var e=this.model.overlayLayers,b=e.length,g=0;g<b;g++)if(e[g].id===a){e.splice(g,1);break}}})})},"widgets/SuitabilityModeler/wro/containerUtils":function(){define([],function(){return{removeChildren:function(a){var k;if(a&&a.getChildren&&a.removeChild)for(k=a.getChildren().length,--k;0<=k;k--)a.removeChild(k)}}})},"widgets/SuitabilityModeler/wro/WeightedOverlayModelDesigner":function(){define("dojo/_base/declare dojo/_base/array dojo/on dojo/Evented dojo/dom-class dojo/dom-attr dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dijit/_Container dijit/form/DropDownButton dijit/DropDownMenu dijit/MenuItem ./containerUtils ./WeightedOverlayLayerEditor ./Colormap dojo/text!./templates/WeightedOverlayModelDesigner.html dijit/form/HorizontalSlider".split(" "),
function(a,k,f,l,c,v,r,h,m,t,y,p,x,w,d,b,q){return a([r,h,m,t,l],{i18n:null,templateString:q,baseClass:"weighted-overlay-model-designer",_isValid:!1,buildRendering:function(){this.inherited(arguments);this.colormap=new b({context:this.context,i18n:this.i18n});this.ColormapSelector=new y({},this.colormapSelectorNode);this.ColormapSelector.containerNode.appendChild(this.colormap.domNode)},postCreate:function(){var a=this,b=this.sliderNode;f(b,"change",function(){a.weightedOverlayService&&a.weightedOverlayService.imageServiceLayer&&
a.weightedOverlayService.imageServiceLayer.setOpacity(1-b.value)});var g=this.visibleModelNode;f(g,"change",function(){a.weightedOverlayService&&a.weightedOverlayService.imageServiceLayer&&a.weightedOverlayService.imageServiceLayer.setVisibility(g.checked);b.disabled=!g.checked});b.set("value",0);g.checked=!1},_setModelAttr:function(a){this.setModel(a)},_setWeightedOverlayServiceAttr:function(a){this.setWeightedOverlayService(a)},startup:function(){this.inherited(arguments);this.validate()},setWeightedOverlayService:function(a){var d=
this;this.weightedOverlayService=a;var g=new p({style:"display: none;"});k.forEach(this.weightedOverlayService.colormapDefinitions,function(a){var c=new x;(new b({context:d.context,i18n:d.i18n,definition:a})).placeAt(c.containerNode);d.own(f(c,"Click",function(){d.colormap&&d.colormap.definition!==a&&d.colormap.set("definition",a);d.model.colormapDefinition=a;d.runModel()}));c.containerNode.title=a.label;g.addChild(c)});this.ColormapSelector.set("dropDown",g);this.own(f(g,"open",function(){var a=
this.domNode.parentElement;a&&c.add(a,d.baseClass+"-popup")}));this.weightedOverlayService.imageServiceLayer&&this._toggleModelLayer(this.weightedOverlayService.imageServiceLayer.visible)},clearModel:function(){this.setModel(this.weightedOverlayService.createNewModel());this.emit("model-clear",this.model)},setModel:function(a){var b=this;this.model=a;w.removeChildren(this);this.model.overlayLayers&&this.model.overlayLayers.length&&0<this.model.overlayLayers.length?k.forEach(this.model.overlayLayers,
function(a){a=new d({context:b.context,i18n:b.i18n,overlayLayer:a});b.own(f(a,"WeightChange",function(){b.validate()}));a.startup();b.addChild(a)}):(this.hideModelLayer(),v.set(this.visibleModelNode,"disabled","disabled"),this.weightedOverlayService&&this.weightedOverlayService.clearModel());this.validate();this.model.colormapDefinition&&this.colormap.set("definition",this.model.colormapDefinition)},validate:function(){var a=0;this.model&&this.model.overlayLayers&&k.forEach(this.model.overlayLayers,
function(b){a+=b.weight});this.weightTotalNode.innerHTML=a;var b=this.weightTotalWrapper.parentNode;100===a?(this._isValid=!0,c.remove(b,"alert-danger"),c.add(b,"alert-success")):(this._isValid=!1,c.remove(b,"alert-success"),c.add(b,"alert-danger"));this.emit("model-validated",this._isValid)},runModel:function(a){this.validate();this._isValid&&(this.weightedOverlayService.runModel(this.model),v.remove(this.visibleModelNode,"disabled"),this.showModelLayer(),this.emit("model-run",{options:a,model:this.model}))},
showModelLayer:function(){this._toggleModelLayer(!0)},hideModelLayer:function(){this._toggleModelLayer(!1)},_toggleModelLayer:function(a){!!this.visibleModelNode.checked!==a&&this.visibleModelNode.click()}})})},"widgets/SuitabilityModeler/wro/WeightedOverlayLayerEditor":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/on dojo/dom-class dojo/dom-style dojo/string dojo/Evented dojo/fx dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dijit/_Container ./containerUtils dojo/text!./templates/RemapRangeEditor.html dojo/text!./templates/WeightedOverlayLayerEditor.html dijit/form/HorizontalSlider dijit/form/NumberTextBox".split(" "),
function(a,k,f,l,c,v,r,h,m,t,y,p,x,w,d,b,q){var n=a([t,y,p,h],{i18n:null,templateString:d,baseClass:"reclass-range-editor",_setRemapRangeAttr:function(a){var b=" ("+(a.inputMin===a.inputMax?a.inputMin+"":a.inputMin+" - "+a.inputMax)+")";this.labelNode.innerHTML=a.label.substr(0,14)+(15<a.label.length?"\x26hellip;":"")+b;this.labelNode.title=a.label+b;this.outputValueNode.set("value",a.outputValue)},postCreate:function(){var a=this;this.inherited(arguments);this.outputValueNode.set("constraints",{round:0});
this.sliderObject=new q({"class":"slider-primary",name:"slider",value:this.outputValueNode.value,minimum:0,maximum:9,intermediateChanges:!0,discreteValues:10,showButtons:!1},this.slider);this.sliderObject.startup();this.own(l(this.sliderObject,"Change",function(b){a.outputValueNode.set("value",b)}));this.own(l(this.outputValueNode,"Change",function(b){a.outputValueNode&&a.outputValueNode.isValid()&&(a.remapRange.outputValue=b,a.sliderObject.set("value",b))}))},setOutputRange:function(a,b){var c=this.outputValueNode,
e=r.substitute(this.i18n.wro.validation.rangeMessage,[a,b]);c.set("constraints",{min:a,max:b});c.set("rangeMessage",e);this.sliderObject.set({minimum:a,maximum:b})}}),z=a([t,y,x,h],{i18n:null,templateString:'\x3cdiv\x3e\x3ctable class\x3d"${baseClass}-table"\x3e\x3ctbody data-dojo-attach-point\x3d"containerNode"\x3e\x3c/tbody\x3e\x3c/table\x3e\x3c/div\x3e',minOutputValue:0,maxOutputValue:0,baseClass:"remap-ranges-editor",_setRemapRangesAttr:function(a){var b=[],c;for(c in a)b.push([a[c],a[c].inputMin]);
b.sort(function(a,b){return a[1]-b[1]});a=[];for(var e in b)a.push(b[e][0]);var d=this,g;w.removeChildren(this);f.forEach(a,function(a){a.label||(a.label=a.inputMin+" - "+a.inputMax);g=new n({i18n:d.i18n,remapRange:a});g.setOutputRange(d.minOutputValue,d.maxOutputValue);d.addChild(g)})},getRemapRanges:function(){var a=[];f.forEach(this.getChildren(),function(b){a.push(b.getRemapRange())});return a}});return a([t,y,p,x,h],{i18n:null,templateString:b,baseClass:"weighted-overlay-layer-editor",_setOverlayLayerAttr:function(a){this.weightNode.set("value",
a.weight);this.labelNode.innerHTML=a.title;this.remapRangesEditor=new z({i18n:this.i18n,minOutputValue:0,maxOutputValue:9,remapRanges:a.remapRanges},this.remapRangesEditorContainer)},postCreate:function(){this.inherited(arguments);this.attachWeightingToggle();this.weightNode.rangeMessage=this.i18n.wro.validation.rangeMessage100},attachWeightingToggle:function(){v.set(this.remapRangesEditorWrapper,"display","none");var a=0;this.own(l(this.layerNode,"click",k.hitch(this,function(){0===a?(c.add(this.domNode,
"is-open"),m.wipeIn({node:this.remapRangesEditorWrapper}).play(),a=1):(c.remove(this.domNode,"is-open"),m.wipeOut({node:this.remapRangesEditorWrapper}).play(),a=0)})))},isValid:function(){return this.weightNode.isValid()},_onWeightChange:function(){var a=parseInt(this.weightNode.valueNode.value,10),a=isNaN(a)?0:a;this.overlayLayer.weight=a;this.emit("WeightChange",a)},_onFocus:function(){this.weightNode.focusNode.select()},_onBlur:function(){var a=parseInt(this.weightNode.valueNode.value,10);isNaN(a)&&
(this.weightNode.value=0,this.emit("WeightChange",a))}})})},"widgets/SuitabilityModeler/wro/Colormap":function(){define("dojo/_base/declare dojo/_base/array dojo/_base/Color dojo/dom-construct dojo/dom-style dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/text!./templates/Colormap.html".split(" "),function(a,k,f,l,c,v,r,h,m){return a([v,r,h],{context:null,i18n:null,templateString:m,definition:null,showLabels:!0,postCreate:function(){this.inherited(arguments);this.showLabels||
(this.__lowNode.style.display="none",this.__highNode.style.display="none")},_addColor:function(a,h){var p=null,m=h.label,t=h.value;m&&(m=m.trim());t&&(t=(""+t).trim());m&&0<m.length&&t&&0<t.length?(p=this.i18n.util.colorRamp.tipPattern,p=p.replace("{label}",m),p=p.replace("{value}",t)):m&&0<m.length?p=m:t&&0<t.length&&(p=t);h=new f(h.rgb);m=l.create("span",{className:"modeler-color-ramp-color"});c.set(m,"backgroundColor",h.toCss());p&&0<p.length&&(m.title=p);a.appendChild(m)},_setDefinitionAttr:function(a){this.definition=
a;var c=this.__colorsNode;c.innerHTML="";this.definition.colors&&k.forEach(this.definition.colors,function(a){this._addColor(c,a)},this)}})})},"widgets/SuitabilityModeler/wro/wroUtil":function(){define(["dojo/_base/lang","dojo/_base/array","dojo/Deferred","esri/layers/RasterFunction"],function(a,k,f,l){return{serverSideRasterFunctionName:"WeightedOverlay_7_1_9_colormap",applyItemDataRenderingRule:function(a,f,k){var c;try{this.isServerSideWRORule(k)?(c=new l,c.functionName=k.renderingRule.rasterFunction||
k.renderingRule.functionName,c.arguments=k.renderingRule.rasterFunctionArguments||k.renderingRule.arguments,c.variableName=k.renderingRule.variableName,a.setRenderingRule(c,!1)):k&&k.renderingRule&&f.supportsClientSideWRO&&(c=new l(k.renderingRule),a.setRenderingRule(c,!1))}catch(m){console.error(m)}},hasServerSideWROFunction:function(a){var c=this.serverSideRasterFunctionName;return a&&(this.isServerSideWRORule(a)||a.rasterFunctionInfos&&k.some(a.rasterFunctionInfos,function(a){if(a&&a.name===c)return!0}))?
!0:!1},isServerSideWRORule:function(a){var c=this.serverSideRasterFunctionName;return a&&a.renderingRule&&a.renderingRule.rasterFunction&&a.renderingRule.rasterFunction===c||a&&a.renderingRule&&a.renderingRule.functionName&&a.renderingRule.functionName===c?!0:!1},makeItemData:function(c,f){c=c.designModelView.weightedOverlayService.modelToImageServiceLayer(f,{modelTitle:"New Model"});f={};a.mixin(f,c);delete f.id;delete f.url;delete f.opacity;delete f.title;return f},newWROInfo:function(){return{isGETen3:!1,
isWROLayer:!1,isWROModel:!1,hasServerSideWROFunction:!1,supportsClientSideWRO:!1}},validateWROLayer:function(a,l,r,h,m){var c=new f,y="Title Url Description InputRanges OutputValues NoDataRanges RangeLabels NoDataRangeLabels".split(" "),p=!1;r.isGETen3=10.3<=l.version;r.hasServerSideWROFunction=this.hasServerSideWROFunction(l);if(r.isGETen3){l.allowRasterFunction||h.push(a.wro.validation.notAllowRasterFunction);l.defaultResamplingMethod&&"Nearest"===l.defaultResamplingMethod||h.push(a.wro.validation.notNearestResampling);
var x=[];l.fields&&(x=l.fields);k.forEach(y,function(c){k.some(x,function(a){return c===a.name})||h.push(a.wro.validation.missingFieldPattern.replace("{field}",c))});0<h.length&&!m&&(p=!1);p?l.getKeyProperties().then(function(m){"undefined"!==typeof m&&null!==m&&m.IsWeightedOverlay?r.supportsClientSideWRO=!0:h.push(a.wro.validation.notIsWeightedOverlayProp);c.resolve()},function(a){c.reject(a)}):(0===h.length&&(r.supportsClientSideWRO=!0),c.resolve())}else r.hasServerSideWROFunction||h.push(a.wro.validation.notAWroService),
c.resolve();return c},waitForLayer:function(a,l){var c=new f,h=[];if(a.loaded)return c.resolve(a),c;if(a.loadError)return c.reject(a.loadError),c;var m=function(){k.forEach(h,function(a){a.remove()})};h.push(a.on("load",function(a){m();c.resolve(a.layer)}));h.push(a.on("error",function(a){m();a=a.error;try{a.message&&-1!==a.message.indexOf("Unable to complete")?(console.warn("layerAccessError",a),c.reject(Error(l.wro.validation.inaccessible))):c.reject(a)}catch(y){c.reject(a)}}));return c}}})},"widgets/SuitabilityModeler/chart/Chart":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/dom-class dojo/on dojo/query dojo/string dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/text!./Chart.html dojo/i18n!../nls/strings ./chart-util libs/echarts/echarts esri/Color esri/graphic esri/layers/FeatureLayer esri/layers/GraphicsLayer esri/symbols/SimpleLineSymbol esri/symbols/SimpleFillSymbol esri/tasks/query esri/toolbars/draw dijit/form/RadioButton dijit/form/Select".split(" "),
function(a,k,f,l,c,v,r,h,m,t,y,p,x,w,d,b,q,n,z,g,A,u){return a([h,m,t],{baseClass:"jimu-widget-suitability-modeler-chart",i18n:p,templateString:y,map:null,wroWidget:null,_activeDfd:null,_activeMode:null,_activeTool:null,_draw:null,_echart:null,_graphicsLayer:null,_isActive:!1,_polygonSymbol:null,_polygonSelectionSymbol:null,_seriesData:null,_subjectLayerId:null,postCreate:function(){this.inherited(arguments);this._seriesData={};this.promptNode.innerHTML=p.chart.prompt;this.workingNode.title=p.chart.working;
this.polygonTool.title=p.chart.polygonTool;this.freehandPolygonTool.title=p.chart.freehandPolygonTool;this.selectTool.title=p.chart.selectTool;this.panTool.title=p.chart.panTool;this.clearButton.innerHTML=p.chart.clearButton;this.clearButton.title=p.chart.clearButton;this.noModelLayerNode.innerHTML=p.chart.noModelLayer;this.noSubjectLayersNode.innerHTML=p.chart.noSubjectLayers},startup:function(){this._started||(this.inherited(arguments),this._init())},destroy:function(){try{this._graphicsLayer&&
(this._graphicsLayer.clear(),this.map&&this.map.removeLayer(this._graphicsLayer)),this._clearImageLayerHandles(),this._clearSubjectLayerHandles()}catch(e){console.warn("Error destroying SuitabilityChart"),console.error(e)}this.inherited(arguments)},activate:function(){this._isActive=!0;this._deactivateDraw();var a=this._getModelLayer();a?(this._watchImageLayer(a),this.headerNode.style.display="",this.noModelLayerNode.style.display="none",this._echart||this._initEChart(),this._populateSubjectLayers(),
"draw"===this._activeMode?this._activateDraw():"select"===this._activeMode&&this._activateSelect(),this._reorderGraphicsLayer(),this._refreshChartIfRequired()):(this.headerNode.style.display="none",this.noModelLayerNode.style.display="",this._updateSeries())},deactivate:function(){this._isActive=!1;this._deactivateDraw()},_activateDraw:function(){this._activeTool||(this._activeTool="polygon");"polygon"===this._activeTool?this._activateDrawPolygon():"freehandPolygon"===this._activeTool?this._activateDrawFreehandPolygon():
"pan"===this._activeTool&&this._activatePan();this._activeMode="draw"},_activateDrawFreehandPolygon:function(){this._clearSelectionIf();this._toggleSelect(!1);this._draw.activate(u.FREEHAND_POLYGON);this._disableInfoWindow();this._highlightTool("freehandPolygon");this._activeTool="freehandPolygon";this._updateMode("draw")},_activateDrawPolygon:function(){this._clearSelectionIf();this._toggleSelect(!1);this._draw.activate(u.POLYGON);this._disableInfoWindow();this._highlightTool("polygon");this._activeTool=
"polygon";this._updateMode("draw")},_activatePan:function(){this._deactivateDraw();this._highlightTool("pan");this._activeTool="pan"},_activateSelect:function(){this._toggleSelect(!0);this._draw.activate(u.EXTENT);this._disableInfoWindow();this._highlightTool("select");this._activeTool="select";this._updateMode("select")},_clearGraphics:function(){if("draw"===this._activeMode)this._graphicsLayer&&(this._graphicsLayer.clear(),this._refreshChart());else if("select"===this._activeMode){var a=this._getSubjectLayer();
a&&"function"===typeof a.clearSelection&&(a.clearSelection(),this._refreshChart())}this._toggleWorking(!1)},_clearHandles:function(a){a&&(k.isArray(a)?f.forEach(a,function(a){a.remove()}):a.remove())},_clearImageLayerHandles:function(){this._clearHandles(this._imageLayerHandles);this._imageLayerHandles=this._watchingImageLayer=null},_clearSelectionIf:function(){if("select"===this._activeMode)try{var a=null,b=this._subjectLayerId;this.map&&"string"===typeof b&&0<b.length&&(a=this.map.getLayer(b));
if(a&&"function"===typeof a.clearSelection&&"function"===typeof a.getSelectedFeatures){var c=a.getSelectedFeatures();c&&0<c.length&&a.clearSelection()}}catch(E){console.warn("SuitabilityModeler: Error clearing selection"),console.error(E)}},_clearSubjectLayerHandles:function(){this._clearHandles(this._subjectLayerHandles);this._subjectLayerHandles=this._watchingSubjectLayer=null},_deactivateDraw:function(){this._draw&&this._draw.deactivate();this._enableInfoWindow()},_disableInfoWindow:function(){this.map&&
this.map.setInfoWindowOnClick(!1)},_enableInfoWindow:function(){this.map&&this.map.setInfoWindowOnClick(!0)},_getGraphics:function(){if("draw"===this._activeMode){if(this._graphicsLayer)return this._graphicsLayer.graphics}else if("select"===this._activeMode){var a;if(a=this._getSubjectLayer()){if(this._subjectLayerId=a.id,"function"===typeof a.getSelectedFeatures&&(a=a.getSelectedFeatures())&&0<a.length)return a}else this._subjectLayerId=null}return null},_getLayerName:function(a){return a.name},
_getModelLayer:function(){if(this.wroWidget){var a=this.wroWidget.imageServiceLayer;if(a&&x.isWROModelLayer(a))return a}return null},_getSeriesItem:function(a){a.hex||(a.hex="transparent");return{name:a.value,value:a.count,pct:a.pct,label:a.label,itemValue:a.value,hex:a.hex,itemStyle:{normal:{color:a.hex},emphasis:{color:a.hex}}}},_getSubjectLayer:function(){if(this.map){var a=this.subjectLayerSelect.get("value");if("string"===typeof a&&0<a.length)return this.map.getLayer(a)}return null},_highlightTool:function(a){v(".icon",
this.toolsSection).forEach(function(b){b.getAttribute("data-tool")===a?l.add(b,"selected"):l.remove(b,"selected")})},_init:function(){var a=this;this._polygonSymbol=new g("solid",new z("solid",new d([0,0,0,.6]),2),new d([0,255,255,.4]));this._polygonSelectionSymbol=new g("solid",new z("solid",new d([0,0,0,.6]),2),new d([0,255,255,.4]));this._graphicsLayer=new n;this.map.addLayer(this._graphicsLayer);this._draw=new u(this.map,{});this.own(this._draw.on("draw-complete",function(b){b&&b.geometry&&a._whenDrawComplete(b.geometry)}));
this._toggleWorking(!1);this._activeMode="draw";this.own(c(this.subjectLayerSelect,"change",function(){a._clearSelectionIf();a._seriesData.select=null;a._watchSubjectLayer(a._getSubjectLayer());"select"===a._activeMode&&a._refreshChart()}));this.own(this.map.on("layer-add",function(b){b&&x.isPolygonLayer(b.layer)&&a._populateSubjectLayers()}));this.own(this.map.on("layer-remove",function(b){if(b&&x.isPolygonLayer(b.layer)){var c=a._getSubjectLayer();a._populateSubjectLayers();c&&c!==b.layer||(a._seriesData.select=
null,"select"===a._activeMode&&a._refreshChart())}}))},_initEChart:function(){var a;this._echart=w.init(this.echartDiv,"light");this._echart.setOption({title:{show:!1},tooltip:{trigger:"item",confine:!0,formatter:function(b){if(b&&b.data&&"string"===typeof b.data.label)return a=p.chart.tipPattern,a=r.substitute(a,{category:b.data.itemValue,label:b.data.label,percent:b.data.pct});a=p.chart.tipPattern2;return a=r.substitute(a,{category:b.name,percent:b.percent})}},series:[{name:"Series",type:"pie",
radius:"55%",center:["50%","60%"],data:[]}]},!0)},_populateSubjectLayers:function(){var a=this,b=this.map,c=[],d=this._subjectLayerId;if(b){var g=b.graphicsLayerIds.slice(0).reverse();f.forEach(g,function(e){e=b.getLayer(e);if(x.isPolygonLayer(e)){var g={label:a._getLayerName(e),value:e.id};d===e.id&&(g.selected="selected");c.push(g)}});this.subjectLayerSelect.removeOption(this.subjectLayerSelect.getOptions());this.subjectLayerSelect.addOption(c)}b&&0<c.length?(this.subjectLayerSelect.domNode.style.display=
"",this.noSubjectLayersNode.style.display="none"):(this.subjectLayerSelect.domNode.style.display="none",this.noSubjectLayersNode.style.display="");this._watchSubjectLayer(this._getSubjectLayer())},_refreshChart:function(){if(this._isActive){var a=this,b=[],c=[],d=this._activeMode||"unknown",g=this._getModelLayer(),m=this._getGraphics();this._seriesData[d]=null;if(g&&m&&0<m.length){this._toggleWorking(!0);var h=this._activeDfd=x.computeHistograms(p,g,m);h.then(function(e){h.isCanceled()||h!==a._activeDfd||
(a._toggleWorking(!1),f.forEach(e.colorCounts,function(e){0<e.count&&(b.push(a._getSeriesItem(e)),c.push(e.label))}),a._seriesData[d]=b,a._updateSeries(b,c))}).otherwise(function(b){console.warn("SuitabilityChart: Error computing histograms");console.error(b);h.isCanceled()||h!==a._activeDfd||(a._toggleWorking(!1),a._updateSeries())})}else this._updateSeries()}},_refreshChartIfRequired:function(){var a=this._activeMode||"_";this._seriesData[a]?this._updateSeries(this._seriesData[a]):this._refreshChart()},
_reorderGraphicsLayer:function(){this.map&&this._graphicsLayer&&this.map.reorderLayer(this._graphicsLayer,this.map.graphicsLayerIds.length)},_toggleSelect:function(a){a?(this.selectContainer.style.visibility="visible",this._graphicsLayer.setVisibility(!1)):(this.selectContainer.style.visibility="hidden",this._graphicsLayer.setVisibility(!0))},_toggleWorking:function(a){this.workingNode.style.visibility=a?"visible":"hidden"},_updateMode:function(a){this._activeMode!==a&&(this._activeMode=a,this._refreshChartIfRequired())},
_updateSeries:function(a){a=a||[];this._echart&&this._echart.setOption({series:[{data:a}]});var b,c,e;c="\x3ctable class\x3d'series-table'\x3e\x3ctbody\x3e";f.forEach(a,function(a){e=r.substitute(p.chart.labelPattern,{category:a.itemValue,label:a.label});b="\x3ctr\x3e";b+="\x3ctd class\x3d'color-cell'";b+=" style\x3d'background-color:"+a.hex+";'";b+="\x3e\x3c/td\x3e";b+="\x3ctd\x3e"+e+"\x3c/td\x3e";b+="\x3ctd class\x3d'num'\x3e"+a.pct+"%\x3c/td\x3e";b+="\x3c/tr\x3e";c+=b});c+="\x3c/tbody\x3e\x3c/table\x3e";
this.tableNode.innerHTML=c},_watchImageLayer:function(a){if(!a||a!==this._watchingImageLayer){var b=this;this._clearImageLayerHandles();a?(this._watchingImageLayer=a,this._imageLayerHandles=[],this._imageLayerHandles.push(a.on("rendering-change",function(){b._seriesData={}}))):this._watchingImageLayer=null}},_watchSubjectLayer:function(a){if(!a||a!==this._watchingSubjectLayer){var b=this;this._clearSubjectLayerHandles();a?(this._watchingSubjectLayer=a,this._subjectLayerHandles=[],this._subjectLayerHandles.push(a.on("selection-complete",
function(){b._seriesData.select=null;"select"===b._activeMode&&b._refreshChart()})),this._subjectLayerHandles.push(a.on("selection-clear",function(){b._seriesData.select=null;"select"===b._activeMode&&b._refreshChart()})),this._subjectLayerHandles.push(a.on("edits-complete",function(){b._seriesData.select=null;"select"===b._activeMode&&b._refreshChart()}))):this._watchingSubjectLayer=null}},_whenDrawComplete:function(a){if("draw"===this._activeMode)a=new b(a,this._polygonSymbol),this._graphicsLayer.add(a),
this._refreshChart();else if("select"===this._activeMode){var c=this._getSubjectLayer();if(c&&"function"===typeof c.selectFeatures){c.getSelectionSymbol()||c.setSelectionSymbol(this._polygonSelectionSymbol);var d=q.SELECTION_NEW,e=new A;e.geometry=a;c.selectFeatures(e,d).then(function(){}).otherwise(function(a){console.warn("Error selecting features.");console.error(a)})}}}})})},"widgets/SuitabilityModeler/chart/chart-util":function(){define("dojo/_base/array dojo/Deferred dojo/json dojo/number esri/Color esri/request esri/geometry/Polygon".split(" "),
function(a,k,f,l,c,v,r){return{computeHistograms:function(a,c,f){var h=this,m=new k,l=c.maxImageWidth,t=c.maxImageHeight;f=this.makePolygon(f);var l=this.getModelPixelSize(f,l,t),d=c.renderingRule.toJson();this.execComputeHistograms(c,f,l,d).then(function(b){b=h.processHistogramResponse(a,b,d);m.resolve(b)}).otherwise(function(a){m.reject(a)});return m},execComputeHistograms:function(a,c,k,l){a=a.url+"/computeHistograms";var h={f:"json"};h.geometry=f.stringify(c.toJson());h.geometryType="esriGeometryPolygon";
h.renderingRule=f.stringify(l);h.pixelSize=f.stringify(k);return v({url:a,content:h,handleAs:"json",callbackParamName:"callback"},{})},getGeometries:function(c){var h=[];a.forEach(c,function(a){a.geometry&&h.push(a.geometry)});return h},getModelPixelSize:function(a,c,f){var h=0,m=0;a=a.getExtent();h=a.getWidth();m=a.getHeight();1>h&&(h=1);1>m&&(m=1);c=Math.max(Math.ceil(h/c),Math.ceil(m/f));return{x:c,y:c}},isPolygonLayer:function(a){return a&&"esriGeometryPolygon"===a.geometryType?!0:!1},isWROModelLayer:function(c){var f=
"Title Url Description InputRanges OutputValues NoDataRanges RangeLabels NoDataRangeLabels".split(" ");return c&&"ArcGISImageServiceLayer"===c.type&&10.3<=c.version&&c.renderingRule&&c.renderingRule.rasterFunctionArguments&&c.renderingRule.rasterFunctionArguments.Colormap&&c.allowRasterFunction&&"Nearest"===c.defaultResamplingMethod&&a.every(f,function(f){return a.some(c.fields,function(a){return f===a.name})})?!0:!1},makePolygon:function(a){return this.mergePolygons(this.getGeometries(a))},mergePolygons:function(c){var f=
null;1===c.length?f=c[0]:(f=new r(c[0].spatialReference),a.forEach(c,function(c){a.forEach(c.rings,function(a){f.addRing(a)})}));return f},processHistogramResponse:function(f,m,k){var h={noDataCount:0,colorCounts:[]};if(!m||!m.histograms||0===m.histograms.length)return h;var p=f.util.colorRamp.tipPattern,t=m.histograms[0],w=Math.round(t.min),d=Math.round(t.max)-1;0===w&&0<t.counts&&(h.noDataCount=t.counts[0]);var b=0;a.forEach(k.rasterFunctionArguments.Colormap,function(a){var m=0,k=a[0],g=null,l=
g;a=[a[1],a[2],a[3]];var q=(new c(a)).toHex(),m=k<w||k>d?0:t.counts[k-w];b+=m;f.util.colorRamp[""+k]&&(g=f.util.colorRamp[""+k],l=p.replace("{label}",g).replace("{value}",k));h.colorCounts.push({count:m,value:k,pct:0,label:g,fullLabel:l,rgb:a,hex:q})});0<h.noDataCount&&(b+=h.noDataCount);0<b&&a.forEach(h.colorCounts,function(a){var c=a.count/b*100,c=l.format(c,{places:2});a.pct=c});return h}}})},"widgets/SuitabilityModeler/SaveModel":function(){define("dojo/_base/declare dojo/_base/array dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/text!./SaveModel.html ./wro/PortalUtil dojo/i18n!./nls/strings".split(" "),
function(a,k,f,l,c,v,r,h){return a([f,l,c],{baseClass:"jimu-widget-suitability-modeler-save-model",i18n:h,templateString:v,dialog:null,itemData:null,layer:null,portal:null,portalUser:null,saveAs:!1,userContentUrl:null,username:null,wabWidget:null,postCreate:function(){this.inherited(arguments)},allowFolders:function(){return!this.saveAs&&this.layer.xtnWroItem&&this.layer.xtnWroItem.id?!1:!0},cancelClicked:function(){this.hide()},checkTags:function(a){var c="";a.split(",").forEach(function(a){a=a.trim();
0<a.length&&(0<c.length&&(c+=","),c+=a)});return c},hide:function(){var a=this;this.wroWidget.hideSavePanel().then(function(){a.destroyRecursive(!1)})},initUI:function(a){a&&!this.saveAs&&(this.summaryNode.value=a.snippet,this.descriptionNode.value=a.description,this.tagsNode.value=a.tags,this.titleNode.value=a.title)},okClicked:function(){this.validateAndSave()},populateFolders:function(a,c){var f=this;this.allowFolders()?a.user.getContent().then(function(a){a=a.folders;var h=new Option;h.value=
"";h.text=f.i18n.saveModel.homeFolderPattern.replace("{username}",f.username);f.folderSelect.add(h);k.forEach(a,function(a){var c=new Option;c.value=a.id;c.text=a.title;f.folderSelect.add(c)});c&&"string"===typeof c.folderId&&0<c.folderId.length&&(f.folderSelect.value=c.folderId)}):this.folderDiv.style.display="none"},show:function(){var a=this.wabWidget._wroWidget.savePanelNode,c=this.layer.xtnWroItem;this.populateFolders(this.portal,c);this.initUI(c);a.appendChild(this.domNode);this.wroWidget.showSavePanel()},
validateAndSave:function(){this.okButton.disabled=!0;var a=this.layer,c=null,f=this.username,h=this.folderSelect.value||"";this.messageNode.innerHTML="";var k=this.checkTags(this.tagsNode.value.trim());if(null===k||0===k.length)k="weightedOverlayModel";var l={type:"Image Service"};l.text=window.JSON.stringify(this.itemData);l.url=a.url;l.snippet=this.summaryNode.value.trim();l.description=this.descriptionNode.value.trim();l.tags=k;l.typeKeywords="geodesignModelerLayer";l.clearEmptyFields=!0;l.title=
this.titleNode.value.trim();if(0===l.title.length)this.okButton.disabled=!1;else{a.xtnWroItem&&!this.saveAs&&(c=a.xtnWroItem.id,h=a.xtnWroItem.folderId);var d={id:c,title:l.title,snippet:l.snippet,description:l.description,tags:l.tags,folderId:h},b=this;(new r({portal:this.portal,portalUser:this.portalUser,userContentUrl:this.userContentUrl})).saveItem(c,l,h,f).then(function(c){d.id=c.id;a.xtnWroItem=d;b.hide()}).otherwise(function(a){console.warn("Save Model failed.");console.warn(a);b.okButton.disabled=
!1;b.messageNode.innerHTML=b.i18n.saveModel.failed})}}})})},"widgets/SuitabilityModeler/_build-generate_module":function(){define(["dojo/text!./Widget.html","dojo/text!./css/style.css","dojo/i18n!./nls/strings"],function(){})},"url:widgets/SuitabilityModeler/wro/templates/WeightedOverlayWidget.html":'\x3cdiv\x3e\r\n  \x3cdiv data-dojo-attach-point\x3d"tabsNode"\x3e\x3c/div\x3e\r\n  \x3cdiv class\x3d"weighted-overlay-pane weighted-overlay-select-layers"\r\n    data-dojo-attach-point\x3d"selectLayersViewNode"\x3e\r\n    \x3cdiv class\x3d"header" data-dojo-attach-point\x3d"selectLayersViewHeader"\x3e\r\n      \x3cspan role\x3d"button" class\x3d"slider-toggle pull-right"\r\n        data-dojo-attach-point\x3d"transparentSliderToggle"\r\n        data-dojo-attach-event\x3d"onclick: showHideTransparencySlider"\r\n        \x3e${i18n.wro.transparency}\x26nbsp;\x3cspan class\x3d"esri-icon-down"\x3e\x3c/span\x3e\r\n      \x3c/span\x3e\r\n      \x3ch4\x3e\x3cspan class\x3d"bullet-number"\x3e1\x3c/span\x3e${i18n.wro.selectLayersCaption}\x3c/h4\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"selectLayersView" class\x3d"body"\x3e\x3c/div\x3e\r\n    \x3cdiv class\x3d"footer"\x3e\r\n      \x3cbutton type\x3d"button" class\x3d"jimu-btn btn-execute jimu-state-disabled"\r\n        data-dojo-attach-point\x3d"designModelButton"\r\n        data-dojo-attach-event\x3d"onclick:_onShowModelClicked"\r\n        \x3e${i18n.wro.designModel}\x26nbsp;\x3cspan class\x3d"esri-icon-right-arrow"\x3e\x3c/span\x3e\r\n      \x3c/button\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\r\n  \x3cdiv class\x3d"weighted-overlay-pane weighted-overlay-design-model" style\x3d"left: 100%"\r\n    data-dojo-attach-point\x3d"designModelViewNode"\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"designModelView"\x3e\x3c/div\x3e\r\n    \x3cdiv class\x3d"footer"\x3e\r\n      \x3cbutton type\x3d"button" class\x3d"jimu-btn jimu-btn-vacation btn-back pull-left"\r\n        data-dojo-attach-event\x3d"onclick:_onShowLayersClicked" \x3e\r\n        \x3cspan class\x3d"esri-icon-left"\x3e\x3c/span\x3e\r\n        \x3cspan class\x3d"jimu-btn-text"\x3e${i18n.wro.selectLayers}\x3c/span\x3e\r\n      \x3c/button\x3e\r\n      \x3cdiv class\x3d"btn-group-spacer"\x3e\x3c/div\x3e\r\n      \x3cdiv class\x3d"btn-group pull-right"\x3e\r\n        \x3cbutton type\x3d"button" class\x3d"jimu-btn jimu-state-disabled"\r\n          data-dojo-attach-point\x3d"runModelButton"\r\n          data-dojo-attach-event\x3d"onclick:_onRunClick"\x3e${i18n.general.save}\x3c/button\x3e\r\n        \x3cbutton type\x3d"button" class\x3d"jimu-btn jimu-state-disabled"\r\n          data-dojo-attach-point\x3d"saveAsButton"\r\n          data-dojo-attach-event\x3d"onclick:_onSaveAsClick"\x3e${i18n.general.saveAs}\x3c/button\x3e\r\n        \x3cbutton type\x3d"button" class\x3d"jimu-btn"\r\n          data-dojo-attach-point\x3d"clearModelButton"\r\n          data-dojo-attach-event\x3d"onclick:_onClearClick"\x3e${i18n.general.clear}\x3c/button\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\r\n  \x3cdiv class\x3d"weighted-overlay-pane weighted-overlay-chart-container"\r\n    data-dojo-attach-point\x3d"chartViewNode"\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"chartNode"\x3e\x3c/div\x3e\r\n  \x3c/div\x3e\r\n\r\n  \x3cdiv class\x3d"weighted-overlay-pane weighted-overlay-save-panel"\r\n    style\x3d"display:none;" data-dojo-attach-point\x3d"savePanelNode"\x3e\r\n  \x3c/div\x3e\r\n\r\n\x3c/div\x3e\r\n',
"url:widgets/SuitabilityModeler/wro/templates/WeightedOverlayLayerSelector.html":'\x3cdiv class\x3d"${baseClass}"\x3e\r\n  \x3cspan class\x3d"btn-group pull-right"\x3e\r\n    \x3cspan class\x3d"icon-button" role\x3d"button"\r\n      data-dojo-attach-point\x3d"btnPreview"\r\n      \x3e\x3ci class\x3d"esri-icon-globe"\x3e\x3c/i\x3e\x3c/span\x3e\r\n    \x3cspan class\x3d"icon-button" role\x3d"button"\r\n      data-dojo-attach-point\x3d"btnInfo"\r\n      \x3e\x3ci class\x3d"esri-icon-description"\x3e\x3c/i\x3e\x3c/span\x3e\r\n  \x3c/span\x3e\r\n  \x3clabel\x3e\r\n    \x3cinput type\x3d"checkbox" name\x3d"wro-selected-layers"\r\n      data-dojo-type\x3d"dijit/form/CheckBox"\r\n      data-dojo-attach-point\x3d"chkModelLayer"/\x3e\r\n      \x3cspan data-dojo-attach-point\x3d"txtLabel"\x3e\x3c/span\x3e\r\n  \x3c/label\x3e\r\n\x3c/div\x3e\r\n',
"url:widgets/SuitabilityModeler/wro/templates/RemapRangeEditor.html":'\x3ctr\x3e\r\n  \x3ctd class\x3d"${baseClass}-label" data-dojo-attach-point\x3d"labelNode"\x3e\x3c/td\x3e\r\n  \x3ctd\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"slider"\x3e\x3c/div\x3e\r\n  \x3c/td\x3e\r\n  \x3ctd\x3e\x3cinput type\x3d"text" class\x3d"${baseClass}-ouput-value"\r\n    data-dojo-type\x3d"dijit/form/NumberTextBox"\r\n    data-dojo-attach-point\x3d"outputValueNode"\r\n    data-dojo-props\x3d"required:true"/\x3e\x3c/td\x3e\r\n\x3c/tr\x3e\r\n',
"url:widgets/SuitabilityModeler/wro/templates/WeightedOverlayLayerEditor.html":'\x3cdiv\x3e\r\n  \x3cdiv class\x3d"layer-row"\x3e\r\n    \x3cdiv class\x3d"layer-row--value pull-right"\x3e\r\n      \x3cinput class\x3d"${baseClass}-weight" type\x3d"text"\r\n        data-dojo-type\x3d"dijit/form/NumberTextBox"\r\n        data-dojo-attach-point\x3d"weightNode"\r\n        data-dojo-attach-event\x3d"onChange:_onWeightChange,onKeyUp:_onWeightChange,onMouseUp:_onFocus,onBlur:_onBlur"\r\n        data-dojo-props\x3d"constraints: {max: 100, min: 0, round:0},required:true"\r\n      /\x3e\x3cspan class\x3d"layer-row--value-mark"\x3e\x26#37;\x3c/span\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"layer-row--title" data-dojo-attach-point\x3d"layerNode" \x3e\r\n      \x3ci class\x3d"sliders-button pull-right" data-dojo-attach-point\x3d"iconNode"\x3e\x3c/i\x3e\r\n      \x3clabel class\x3d"${baseClass}-label" data-dojo-attach-point\x3d"labelNode"\x3e\x3c/label\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv data-dojo-attach-point\x3d"remapRangesEditorWrapper"\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"remapRangesEditorContainer"\x3e\x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:widgets/SuitabilityModeler/wro/templates/Colormap.html":'\x3cspan class\x3d"modeler-color-ramp" style\x3d"width:100%;height:100%;"\r\n  data-dojo-attach-point\x3d"__ramp"\x3e\r\n  \x3cspan class\x3d"modeler-color-rampLabel"\r\n    data-dojo-attach-point\x3d"__lowNode" \x3e${i18n.util.colorRamp.low}\x3c/span\x3e\r\n  \x3cspan class\x3d"modeler-color-ramp-colors"\r\n    data-dojo-attach-point\x3d"__colorsNode"\x3e\x3c/span\x3e\r\n  \x3cspan class\x3d"modeler-color-rampLabel"\r\n    data-dojo-attach-point\x3d"__highNode"\x3e${i18n.util.colorRamp.high}\x3c/span\x3e\r\n\x3c/span\x3e\r\n',
"url:widgets/SuitabilityModeler/wro/templates/WeightedOverlayModelDesigner.html":'\x3cdiv\x3e\r\n  \x3cdiv class\x3d"header"\x3e\r\n    \x3cdiv class\x3d"model-colormap pull-right"\x3e\r\n      \x3cspan data-dojo-attach-point\x3d"colormapSelectorNode"\x3e\x3c/span\x3e\r\n    \x3c/div\x3e\r\n    \x3ch4\x3e\x3cspan class\x3d"bullet-number"\x3e2\x3c/span\x3e${i18n.wro.designModelCaption}\x3c/h4\x3e\r\n    \x3cdiv class\x3d"layer-visibility"\x3e\r\n      \x3clabel\x3e${i18n.wro.visible}:\r\n        \x3cinput type\x3d"checkbox" disabled\x3d"disabled"\r\n          data-dojo-attach-point\x3d"visibleModelNode"  /\x3e\r\n      \x3c/label\x3e\r\n      \x3clabel\x3e${i18n.wro.transparency}:\x3c/label\x3e\r\n      \x3cspan  class\x3d"modeler-transparency-slider" style\x3d"width:150px;"\r\n        data-dojo-attach-point\x3d"sliderNode"\r\n        data-dojo-type\x3d"dijit/form/HorizontalSlider"\r\n        data-dojo-props\x3d"minimum: 0, maximum:1, value: 0.0, intermediateChanges:true, showButtons:false" \x3e\r\n      \x3c/span\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"body"\x3e\r\n    \x3cdiv class\x3d"weighted-overlay-layer-editors"\r\n      data-dojo-attach-point\x3d"containerNode" \x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"weight-pct weight-pct-total"\x3e\r\n      \x3cdiv class\x3d"weight-pct-label"\x3e${i18n.wro.total}: \x3c/div\x3e\r\n      \x3cdiv class\x3d"weight-pct-total-wrapper"\r\n        data-dojo-attach-point\x3d"weightTotalWrapper" \x3e\r\n        \x3cspan data-dojo-attach-point\x3d"weightTotalNode"\x3e\x3c/span\x3e \x26#37;\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:widgets/SuitabilityModeler/chart/Chart.html":'\x3cdiv class\x3d"jimu-widget-suitability-modeler-chart"\x3e\r\n  \x3cdiv class\x3d"header" data-dojo-attach-point\x3d"headerNode"\x3e\r\n    \x3ch4 data-dojo-attach-point\x3d"promptNode"\x3e\x3c/h4\x3e\r\n    \x3cdiv class\x3d"tools-section" data-dojo-attach-point\x3d"toolsSection"\x3e\r\n      \x3cspan class\x3d"working" data-dojo-attach-point\x3d"workingNode"\x3e\x3c/span\x3e\r\n      \x3ca class\x3d"icon icon-polygon"\r\n        href\x3d"javascript:void(0)"\r\n        data-tool\x3d"polygon"\r\n        data-dojo-attach-point\x3d"polygonTool"\r\n        data-dojo-attach-event\x3d"onclick: _activateDrawPolygon"\r\n        \x3e\x3c/a\x3e\r\n      \x3ca class\x3d"icon icon-freehand-polygon"\r\n        href\x3d"javascript:void(0)"\r\n        data-tool\x3d"freehandPolygon"\r\n        data-dojo-attach-point\x3d"freehandPolygonTool"\r\n        data-dojo-attach-event\x3d"onclick: _activateDrawFreehandPolygon"\r\n        \x3e\x3c/a\x3e\r\n      \x3ca class\x3d"icon icon-select-features"\r\n        href\x3d"javascript:void(0)"\r\n        data-tool\x3d"select"\r\n        data-dojo-attach-point\x3d"selectTool"\r\n        data-dojo-attach-event\x3d"onclick: _activateSelect"\r\n        \x3e\x3c/a\x3e\r\n      \x3ca class\x3d"icon icon-pan"\r\n        href\x3d"javascript:void(0)"\r\n        data-tool\x3d"pan"\r\n        data-dojo-attach-point\x3d"panTool"\r\n        data-dojo-attach-event\x3d"onclick: _activatePan"\r\n        \x3e\x3c/a\x3e\r\n      \x3ca class\x3d"clear-button"\r\n        href\x3d"javascript:void(0)"\r\n        data-dojo-attach-point\x3d"clearButton"\r\n        data-dojo-attach-event\x3d"onclick: _clearGraphics"\r\n        \x3e\x3c/a\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"select-layer-section" style\x3d"clear:both;"\r\n      data-dojo-attach-point\x3d"selectContainer"\x3e\r\n      \x3cselect id\x3d"${id}_subjectLayerSelect" class\x3d"select-layer"\r\n        data-dojo-type\x3d"dijit/form/Select"\r\n        data-dojo-attach-point\x3d"subjectLayerSelect"\x3e\r\n      \x3c/select\x3e\r\n      \x3cdiv class\x3d"info" data-dojo-attach-point\x3d"noSubjectLayersNode"\x3e\x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"chart-section"\x3e\r\n    \x3cp class\x3d"info" data-dojo-attach-point\x3d"noModelLayerNode"\x3e\x3c/p\x3e\r\n    \x3cdiv class\x3d"chart-div" data-dojo-attach-point\x3d"echartDiv"\x3e\x3c/div\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"tableNode"\x3e\x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:widgets/SuitabilityModeler/SaveModel.html":'\x3cdiv\x3e\r\n  \x3cdiv class\x3d"header"\x3e\r\n    \x3ch4\x3e${i18n.saveModel.save}\x3c/h4\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"body"\x3e\r\n    \x3cdiv class\x3d"row"\x3e\r\n      \x3cspan class\x3d"lbl"\x3e\x3clabel for\x3d"${id}_title"\x3e${i18n.saveModel.title}\x3clabel\x3e\x3c/span\x3e\r\n      \x3cinput id\x3d"${id}_title" type\x3d"text" class\x3d"jimu-input" data-dojo-attach-point\x3d"titleNode"\x3e\x3c/input\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"row"\x3e\r\n      \x3cspan class\x3d"lbl"\x3e\x3clabel for\x3d"${id}_summary"\x3e${i18n.saveModel.summary}\x3clabel\x3e\x3c/span\x3e\r\n      \x3cinput id\x3d"${id}_summary" type\x3d"text" class\x3d"jimu-input" data-dojo-attach-point\x3d"summaryNode"\x3e\x3c/input\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"row"\x3e\r\n      \x3cspan class\x3d"lbl"\x3e\x3clabel for\x3d"${id}_description"\x3e${i18n.saveModel.description}\x3clabel\x3e\x3c/span\x3e\r\n      \x3ctextarea id\x3d"${id}_description" class\x3d"jimu-input" data-dojo-attach-point\x3d"descriptionNode"\x3e\x3c/textarea\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"row"\x3e\r\n      \x3cspan class\x3d"lbl"\x3e\x3clabel for\x3d"${id}_title"\x3e${i18n.saveModel.tags}\x3clabel\x3e\x3c/span\x3e\r\n      \x3cinput id\x3d"${id}_tags" type\x3d"text" class\x3d"jimu-input" value\x3d"weightedOverlayModel, geodesign"\r\n        data-dojo-attach-point\x3d"tagsNode"\x3e\x3c/input\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"row" data-dojo-attach-point\x3d"folderDiv"\x3e\r\n      \x3cspan class\x3d"lbl"\x3e\x3clabel for\x3d"${id}_folderSelect"\x3e${i18n.saveModel.folder}\x3clabel\x3e\x3c/span\x3e\r\n      \x3cselect id\x3d"${id}_folderSelect" class\x3d"folder-select-dropdown"\r\n        data-dojo-attach-point\x3d"folderSelect"\x3e\r\n      \x3c/select\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"footer"\x3e\r\n    \x3cdiv class\x3d"message" data-dojo-attach-point\x3d"messageNode"\x3e\x3c/div\x3e\r\n    \x3cbutton data-dojo-attach-point\x3d"okButton"\r\n      class\x3d"jimu-btn"\r\n      data-dojo-attach-event\x3d"onClick: okClicked"\r\n      \x3e${i18n.saveModel.save}\r\n    \x3c/button\x3e\r\n    \x3cbutton data-dojo-attach-point\x3d"cancelButton"\r\n      class\x3d"jimu-btn"\r\n      data-dojo-attach-event\x3d"onClick: cancelClicked"\r\n      \x3e${i18n.general.cancel}\r\n    \x3c/button\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:widgets/SuitabilityModeler/Widget.html":'\x3cdiv\x3e\r\n  \x3cdiv data-dojo-attach-point\x3d"widgetNode"\x3e\x3c/div\x3e\r\n\x3c/div\x3e\r\n',"url:widgets/SuitabilityModeler/css/style.css":'.jimu-widget-suitability-modeler .jimu-tab3 {height: 92%;}.jimu-widget-suitability-modeler .weighted-overlay-pane {top: 40px;}.jimu-widget-suitability-modeler .weighted-overlay-pane .jimu-widget-suitability-modeler-chart .header {max-height: 154px;}.jimu-widget-suitability-modeler-chart .header h4 {display: inline-block;}.jimu-widget-suitability-modeler-chart .tools-section {float: right;}.jimu-widget-suitability-modeler-chart .working {display: inline-block; visibility: hidden; margin-right: 4px; width: 16px; height: 16px; vertical-align: middle; background-image: url(images/LoadingAnimation16_Trans.gif); background-repeat: no-repeat; background-position: center;}.jimu-widget-suitability-modeler-chart .select-layer-section {margin-top: 8px; text-align: right; width: 100%;}.jimu-widget-suitability-modeler-chart .select-layer {width: 100%;}.jimu-widget-suitability-modeler-chart p.info {padding: 10px;}.jimu-widget-suitability-modeler-chart .chart-div {width: 150px; height: 150px; margin: auto;}.jimu-widget-suitability-modeler-chart .series-table {margin: auto; border-collapse: separate; border-spacing: 6px 6px;}.jimu-widget-suitability-modeler-chart .series-table td {white-space: nowrap;}.jimu-widget-suitability-modeler-chart .series-table td.num {text-align: right;}.jimu-widget-suitability-modeler-chart .series-table .color-cell {width: 20px; border-radius: 5px;}.jimu-widget-suitability-modeler-chart .clear-button {margin-left: 6px; margin-right: 6px; text-decoration: none;}.jimu-widget-suitability-modeler-chart .icon {display: inline-block; vertical-align: middle; margin-bottom: 4px; width: 40px; height: 40px; background-size: 24px 24px; background-position: center; background-repeat: no-repeat; border: 1px solid transparent; border-radius: 5px;}.jimu-widget-suitability-modeler-chart .icon.selected {border-color: #a3a3a3;}.jimu-widget-suitability-modeler-chart .icon-polygon {background-image: url("images/chart/draw-polygon.svg");}.jimu-widget-suitability-modeler-chart .icon-freehand-polygon {background-image: url("images/chart/draw-freehand.png");}.jimu-widget-suitability-modeler-chart .icon-select-features {background-image: url("images/chart/select-from-layer.svg");}.jimu-widget-suitability-modeler-chart .icon-pan {background-image: url("images/chart/pan1.svg");}.jimu-widget-suitability-modeler {position: relative; height: 100%;}.jimu-widget-frame.jimu-container .jimu-widget-suitability-modeler {background: #fff; position: static;}.jimu-widget-suitability-modeler .pull-left {float: left;}.jimu-rtl .jimu-widget-suitability-modeler .pull-left {float: right;}.jimu-widget-suitability-modeler .pull-right {float: right;}.jimu-rtl .jimu-widget-suitability-modeler .pull-right {float: left;}.jimu-widget-suitability-modeler label {display: inline-block; max-width: 100%; margin-bottom: 5px;}.jimu-widget-suitability-modeler .jimu-input {color: inherit; font-size: 12px;}.jimu-widget-suitability-modeler textarea.jimu-input {min-height: 60px;}.jimu-widget-suitability-modeler .jimu-btn {font-size: 12px; border: 0;}.jimu-widget-suitability-modeler .jimu-btn .esri-icon-left {display: inline-block;}.jimu-rtl .esri-icon-left::before {content: "\\e62b";}.jimu-rtl .esri-icon-right-arrow::before {content: "\\e65a";}.jimu-widget-suitability-modeler .dijitCheckBox {width: 16px; height: 16px; display: inline-block; cursor: pointer; border-radius: 2px; background-image: url(images/checkbox_default.png); background-position: 0 0;}.jimu-rtl .jimu-widget-suitability-modeler .dijitCheckBox {margin-left: 2px; margin-right: 0;}.jimu-widget-suitability-modeler .dijitCheckBoxChecked {background-image: url(images/checked_default.png);}.jimu-widget-suitability-modeler .dijitCheckBoxDisabled {background-image: url(images/checkbox_disabled.png);}.jimu-widget-suitability-modeler .dijitCheckBoxCheckedDisabled {background-image: url(images/checked_disabled.png);}.jimu-widget-suitability-modeler .dijitDropDownButton {margin: 0;}.jimu-widget-suitability-modeler .dijitDropDownButton .dijitButtonNode {background: transparent; border: 0; padding: 4px 0; color: #196fa6; font-weight: bold; box-shadow: none; border-radius: 0;}.jimu-widget-suitability-modeler .dijitDropDownButton .dijitButtonNode .dijitButtonContents {border-color: transparent;}.jimu-widget-suitability-modeler .dijitDropDownButton .dijitButtonNode .dijitInputField {padding: 0 5px;}.jimu-widget-suitability-modeler .dijitDropDownButton .dijitButtonNode .dijitArrowButton {background: transparent; border: 0;}.jimu-widget-suitability-modeler .dijitDropDownButton .dijitButtonNode.dijitSelectFocused .dijitArrowButton {padding: 0;}.jimu-widget-suitability-modeler .dijitArrowButtonInner {background-image: none;}.jimu-widget-suitability-modeler .dijitArrowButtonInner:after {content: "\\e681"; font-family: \'CalciteWebCoreIcons\' !important; speak: none; font-style: normal; font-weight: normal; font-variant: normal; text-transform: none; line-height: 1; -webkit-font-smoothing: antialiased; -moz-osx-font-smoothing: grayscale;}.weighted-overlay-model-designer-popup {padding: 0; margin-left: -15px;}.jimu-rtl .weighted-overlay-model-designer-popup {margin-left: -auto; margin-right: -15px;}.weighted-overlay-model-designer-popup .dijitTooltipConnector {display: none;}.weighted-overlay-model-designer-popup .dijitTooltipContainer {padding: 10px; border-color: #ccc; -moz-border-radius: 0; -webkit-border-radius: 0; border-radius: 0; -webkit-box-shadow: 0 1px 3px rgba(0, 0, 0, 0.25); -moz-box-shadow: 0 1px 3px rgba(0, 0, 0, 0.25); box-shadow: 0 1px 3px rgba(0, 0, 0, 0.25);}.weighted-overlay-model-designer-popup.dijitMenuPopup {-webkit-box-shadow: 0 1px 3px rgba(0, 0, 0, 0.25); -moz-box-shadow: 0 1px 3px rgba(0, 0, 0, 0.25); box-shadow: 0 1px 3px rgba(0, 0, 0, 0.25);}.weighted-overlay-model-designer-popup .dijitMenu {border-color: #ccc;}.weighted-overlay-model-designer-popup .dijitMenu .dijitMenuItem td {padding: 10px 5px; border: 0;}.weighted-overlay-model-designer-popup .dijitMenu .dijitMenuItemHover td, .weighted-overlay-model-designer-popup .dijitMenu .dijitMenuItemActive td, .weighted-overlay-model-designer-popup .dijitMenu .dijitMenuItemSelected td {background-color: #f4f4f4; background-image: none;}.weighted-overlay-model-designer-popup .dijitMenu .dijitSelectSelectedOption td, .weighted-overlay-model-designer-popup .dijitMenu .dijitSelectSelectedOption.dijitMenuItemHover td, .weighted-overlay-model-designer-popup .dijitMenu .dijitSelectSelectedOption.dijitMenuItemSelected td {background-color: #196fa6; background-image: none; color: #fff; font-weight: normal;}.weighted-overlay-model-designer-popup .dijitMenu .dijitMenuItem td .dijitMenuExpand {display: none;}.weighted-overlay-widget, .weighted-overlay-pane {position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow-x: hidden; overflow-y: auto;}.weighted-overlay-pane {-webkit-transition: left 0.3s ease-out; transition: left 0.3s ease-out;}.jimu-rtl .weighted-overlay-pane {-webkit-transition-property: right; transition-property: right;}.weighted-overlay-widget {}.weighted-overlay-pane .header {border-bottom: 1px solid #e7e7e7; background: #f8f8f8; padding: 15px; max-height: 54px; position: relative;}.weighted-overlay-pane .header .bullet-number {display: inline-block; width: 20px; height: 20px; font-size: 12px; font-weight: normal; line-height: 20px; background-color: #0079c1; text-align: center; color: #fff; margin-right: 10px; border-radius: 50%;}.jimu-rtl .weighted-overlay-pane .header .bullet-number {margin-left: 10px; margin-right: auto;}.weighted-overlay-pane .header h4 {font-family: "Avenir Heavy"; font-size: 14px; line-height: 24px; margin: 0;}.weighted-overlay-pane .header .slider-toggle {line-height: 24px; cursor: pointer; opacity: 0.5;}.weighted-overlay-pane .header .slider-toggle:hover {opacity: 1;}.weighted-overlay-pane .body {padding: 0; position: absolute; top: 54px; width: 100%; bottom: 50px; overflow: auto; z-index: 1; -webkit-transition: top, 0.2s, ease; transition: top, 0.2s, ease;}.weighted-overlay-pane .footer {width: 100%; padding: 10px 15px; position: absolute; bottom: 0;}.width-smaller-than-350 .weighted-overlay-pane .footer .jimu-btn {min-width: 0;}.width-smaller-than-350 .weighted-overlay-pane .footer .jimu-btn .jimu-btn-text {display: none;}.weighted-overlay-pane .footer .btn-execute {width: 100%; text-align: center;}.weighted-overlay-pane .footer .btn-execute.jimu-btn {background-color: #59A700; color: #fff;}.weighted-overlay-pane .footer .btn-execute.jimu-btn.jimu-state-disabled {background-color: #ccc; color: #fff; cursor: not-allowed;}.weighted-overlay-pane .footer .btn-execute:hover {background-color: #417505;}.weighted-overlay-pane .footer .btn-execute:active {background-color: #59A700;}.weighted-overlay-pane .footer .btn-execute .esri-icon-right-arrow {display: inline-block;}.transparency-container {background-color: #efefef; border-bottom: 1px solid #e7e7e7; position: absolute; top: 54px; left: 0; right: 0; opacity: 0; -webkit-transition: opacity 0.2s ease 0.1s; transition: opacity 0.2s ease 0.1s;}.transparency-slider-show\x3e.panel-heading {padding-bottom: 55px; position: relative;}.transparency-slider-show .transparency-container {opacity: 1;}.transparency-slider-show .modeler-transparency-slider {display: inline-block; width: 100%; margin-left: 0; margin-right: 0; padding-left: 15px; padding-right: 15px;}.transparency-slider-show.weighted-overlay-pane .body {top: 96px;}.weighted-overlay-select-layers {z-index: 1;}.weighted-overlay-layer-selector {padding: 10px 15px; line-height: 20px; width: 100%;}.weighted-overlay-layer-selector:hover, .weighted-overlay-layer-selector:active {background: rgba(0, 0, 0, 0.05);}.weighted-overlay-layer-selector label {display: block; font-weight: 500; vertical-align: middle; white-space: normal; margin-left: 10px; margin-right: 10px; margin-bottom: 0;}.weighted-overlay-layer-selector .icon-button {display: inline-block; color: #808080; font-size: 14px; line-height: 1; padding: 0px 3px; cursor: pointer;}.weighted-overlay-layer-selector .icon-button:hover {color: #000;}.weighted-overlay-layer-selector .icon-button i {line-height: 20px;}.weighted-overlay-layer-selector .btn-group .btn-switch-toggle {margin: 8px 3px; height: 14px; width: 24px;}.weighted-overlay-layer-selector .btn-group .btn-switch-toggle::before {height: 10px; width: 10px;}.weighted-overlay-layer-selector .btn-group .btn-switch-toggle.checked::before {right: 12px;}.jimu-rtl .weighted-overlay-layer-selector .btn-group .btn-switch-toggle.checked::before {left: 12px; right: auto;}.modeler-color-ramp {vertical-align: top; display: block; font-size: smaller; font-weight: 400;}.modeler-color-ramp .modeler-color-ramp-colors {margin-left: 2px; margin-right: 2px;}.modeler-color-ramp .modeler-color-ramp-color {display: inline-block; width: 5px; height: 8px; margin-bottom: 2px;}.layer-visibility {display: none;}.weighted-overlay-design-model {z-index: 2;}.weighted-overlay-design-model [class^\x3d"col-"], .weighted-overlay-design-model [class*\x3d" col-"] {padding: 0;}.weighted-overlay-layer-editors {position: absolute; left: 0; right: 0; bottom: 70px; top: 0; overflow-y: auto;}.weighted-overlay-layer-editor .layer-row {padding: 10px 15px;}.weighted-overlay-layer-editor .layer-row--title {line-height: 30px; cursor: pointer;}.weighted-overlay-layer-editor .layer-row--title label {margin-right: 5px; margin-bottom: 0;}.weighted-overlay-layer-editor .layer-row--value {color: #808080;}.weighted-overlay-layer-editor .layer-row--value .dijitTextBox {width: 5em; text-align: center; margin: 0;}.weighted-overlay-layer-editor .layer-row--value-mark {display: inline-block; width: 16px; text-align: center;}.weighted-overlay-layer-editor .layer-row--value .dijitTextBox .dijitValidationContainer {display: none;}.weighted-overlay-layer-editor .layer-row .sliders-button {display: inline-block; width: 30px; height: 30px; background-image: url("images/sliders.png"); background-repeat: no-repeat; background-position: center; margin-left: 5px; margin-right: 5px;}.weighted-overlay-layer-editor .layer-row .sliders-button:hover, .weighted-overlay-layer-editor.is-open .layer-row .sliders-button {background-image: url("images/sliders_hover.png");}.weighted-overlay-layer-editor.is-open .layer-row .sliders-button {position: relative;}.weighted-overlay-layer-editor.is-open .layer-row .sliders-button::before {content: "\\e609"; font-family: \'CalciteWebCoreIcons\' !important; speak: none; font-style: normal; font-weight: normal; font-variant: normal; text-transform: none; line-height: 1; -webkit-font-smoothing: antialiased; -moz-osx-font-smoothing: grayscale; font-size: 12px; color: #000; position: absolute; bottom: -14px; left: 50%; margin-left: -6px;}@media (-webkit-min-device-pixel-ratio: 2) {.weighted-overlay-layer-editor .layer-row .sliders-button {background-image: url("images/sliders@2x.png"); background-size: 16px;} .weighted-overlay-layer-editor .layer-row .sliders-button:hover, .weighted-overlay-layer-editor.is-open .layer-row .sliders-button {background-image: url("images/sliders_hover@2x.png"); background-size: 16px;}}.remap-ranges-editor {background-color: #f8f8f8; border-top: 1px solid #ccc; border-bottom: 1px solid #ccc; border-left: 3px solid #0079c1; padding: 10px 15px;}.jimu-rtl .remap-ranges-editor {border-left: 0; border-right: 3px solid #0079c1;}.remap-ranges-editor .dijitTextBox {float: right; width: 3em; margin-left: 5px; margin-right: 16px; text-align: center;}.jimu-rtl .remap-ranges-editor .dijitTextBox {float: left; margin-left: 16px; margin-right: 5px;}.remap-ranges-editor .dijitTextBox .dijitValidationContainer {display: none;}.remap-ranges-editor .dijitInputField {padding: 5px 0;}.remap-ranges-editor .dijitNumberTextBox .dijitInputInner {text-align: center;}.remap-ranges-editor-table {width: 100%; border-collapse: collapse;}.remap-ranges-editor-table\x3etbody\x3etr\x3etd {padding-bottom: 10px;}.reclass-range-editor .reclass-range-editor-label {width: 60%; color: #596679; font-weight: 500; font-size: smaller; padding-right: 5px;}.jimu-rtl .reclass-range-editor .reclass-range-editor-label {padding-left: 5px; padding-right: 0;}.reclass-range-editor .dijitSlider {width: 100%; min-width: 80px; margin: 0 5px;}.width-smaller-than-350 .reclass-range-editor .dijitSlider {min-width: 100px;}.modeler-transparency-slider {display: none; margin: 15px;}.alert-danger {background-color: #f3ded7; border-top: 1px solid #e4a793; border-bottom: 1px solid #e4a793;}.alert-success {background-color: #ddeedb; border-top: 1px solid #9bc19c; border-bottom: 1px solid #9bc19c;}.weight-pct-total {position: absolute; bottom: 0; left: 0; right: 0; font-weight: bold; padding: 10px 15px; margin-bottom: 24px; border-left: 0; border-right: 0;}.weight-pct-total .weight-pct-label {float: left;}.jimu-rtl .weight-pct-total .weight-pct-label {float: right;}.weight-pct-total .weight-pct-total-wrapper {float: right;}.jimu-rtl .weight-pct-total .weight-pct-total-wrapper {float: left;}.weighted-overlay-save-panel {background-color: rgba(255, 255, 255, 0.65); z-index: 3;}.jimu-widget-suitability-modeler-save-model {background: #fff; height: auto; margin: 10px; position: static; width: auto; box-shadow: 0 3px 15px rgba(0, 0, 0, 0.25); border: 1px solid rgba(0, 0, 0, 0.25);}.show-panel-animated .jimu-widget-suitability-modeler-save-model {-webkit-animation-name: fade-in-top; animation-name: fade-in-top; -webkit-animation-duration: .4s; animation-duration: .4s; -webkit-animation-timing-function: ease-in; animation-timing-function: ease-in;}.hide-panel-animated .jimu-widget-suitability-modeler-save-model {-webkit-animation-name: fade-out-top; animation-name: fade-out-top; -webkit-animation-duration: .4s; animation-duration: .4s; -webkit-animation-timing-function: ease-out; animation-timing-function: ease-out;}.jimu-widget-suitability-modeler-save-model .header {border-top: 2px solid #24b5cc;}.jimu-widget-suitability-modeler-save-model .body {position: static;}.jimu-widget-suitability-modeler-save-model .footer {position: static; text-align: right;}.jimu-rtl .jimu-widget-suitability-modeler-save-model .footer {text-align: left;}.jimu-widget-suitability-modeler-save-model .row {padding: 10px 15px;}.jimu-widget-suitability-modeler-save-model .row .lbl {display: inline-block; width: 100px;}.jimu-widget-suitability-modeler-save-model .row .jimu-input {width: 100%;}.jimu-widget-suitability-modeler-save-model .folder-select-dropdown {width: 55%;}.jimu-widget-suitability-modeler-save-model .action-bar {margin-top: 20px; margin-left: 100px;}.jimu-rtl .jimu-widget-suitability-modeler-save-model .action-bar {margin-left: auto; margin-right: 100px;}.jimu-widget-suitability-modeler-save-model .action-bar .message {margin-top: 10px; font-style: italic;}.BoxTheme .jimu-widget-suitability-modeler .jimu-btn {min-width: 0;}.DartTheme select {background-color: #4c4c4c; color: white;}.DartTheme .jimu-widget-frame.jimu-container .jimu-widget-suitability-modeler {background-color: transparent;}.DartTheme .weighted-overlay-pane .header {background-color: transparent;}.DartTheme .weighted-overlay-pane .header {padding: 10px 0; border-bottom-color: transparent;}.DartTheme .jimu-widget-suitability-modeler {margin: -10px;}.DartTheme .weighted-overlay-layer-selector {padding-left: 5px; padding-right: 5px;}.DartTheme .weighted-overlay-layer-selector .icon-button:hover {color: #fff;}.DartTheme .weighted-overlay-layer-editor .layer-row .sliders-button:hover,.DartTheme .weighted-overlay-layer-editor.is-open .layer-row .sliders-button {background-image: url("images/sliders_hover_white.png");}.DartTheme .transparency-container {background-color: rgba(0, 0, 0, 0.2); border-bottom: 0;}.DartTheme .remap-ranges-editor {background-color: rgba(0, 0, 0, 0.2); border: 0;}.DartTheme .weighted-overlay-pane .footer {padding: 0;}.DartTheme .weighted-overlay-save-panel {background-color: rgba(0, 0, 0, 0.25);}.DartTheme .jimu-widget-suitability-modeler-save-model {background-color: #646464; height: auto; margin: 0; position: absolute; top: 5px; left: 0; right: 0; bottom: 5px; overflow: auto;}.DartTheme .jimu-widget-suitability-modeler-save-model .header,.DartTheme .jimu-widget-suitability-modeler-save-model .footer {padding: 5px 10px;}.DartTheme .alert-danger {background-color: #622721; border-top-color: #843117; border-bottom-color: #843117;}.DartTheme .alert-success {background-color: #285328; border-top-color: #376e37; border-bottom-color: #376e37;}.LaunchpadTheme .jimu-widget-suitability-modeler .dijitArrowButtonInner:after {content: none;}.LaunchpadTheme .model-colormap {margin-top: -5px;}.LaunchpadTheme .weighted-overlay-model-designer-popup {margin: 0;}.TabTheme .jimu-widget-sidebar-controller .weighted-overlay-pane .footer {padding: 0;}.TabTheme .jimu-widget-sidebar-controller .jimu-widget-suitability-modeler-save-model .footer {padding: 5px;}@media (-webkit-min-device-pixel-ratio: 2) {.DartTheme .weighted-overlay-layer-editor .layer-row .sliders-button:hover, .DartTheme .weighted-overlay-layer-editor.is-open .layer-row .sliders-button {background-image: url("images/sliders_hover_white@2x.png");}}@-webkit-keyframes fade-in-top {from {opacity: 0; -webkit-transform: translate3d(0, -50px, 0);} to {opacity: 1; -webkit-transform: translate3d(0, 0, 0);}}@keyframes fade-in-top {from {opacity: 0; transform: translate3d(0, -50px, 0);} to {opacity: 1; transform: translate3d(0, 0, 0);}}@-webkit-keyframes fade-out-top {from {opacity: 1; -webkit-transform: translate3d(0, 0, 0);} to {opacity: 0; -webkit-transform: translate3d(0, -50px, 0);}}@keyframes fade-out-top {from {opacity: 1; transform: translate3d(0, 0, 0);} to {opacity: 0; transform: translate3d(0, -50px, 0);}}',
"*now":function(a){a(['dojo/i18n!*preload*widgets/SuitabilityModeler/nls/Widget*["ar","bs","ca","cs","da","de","en","el","es","et","fi","fr","he","hi","hr","hu","id","it","ja","ko","lt","lv","nb","nl","pl","pt-br","pt-pt","ro","ru","sl","sr","sv","th","tr","zh-cn","vi","zh-hk","zh-tw","ROOT"]'])},"*noref":1}});
define("dojo/_base/declare dojo/dom-class dojo/Deferred jimu/portalUrlUtils jimu/portalUtils jimu/tokenUtils jimu/BaseWidget dijit/_WidgetsInTemplateMixin ./WroContext ./wro/PortalUtil ./wro/WeightedOverlayWidget ./wro/wroUtil ./chart/Chart ./SaveModel esri/layers/ArcGISImageServiceLayer jimu/dijit/TabContainer3".split(" "),function(a,k,f,l,c,v,r,h,m,t,y,p,x,w,d,b){return a([r,h],{name:"SuitabilityModeler",baseClass:"jimu-widget-suitability-modeler",_chart:null,_wroWidget:null,postCreate:function(){this.inherited(arguments)},
onClose:function(){this.inherited(arguments);if(this._wroWidget)this._wroWidget.onClose()},onDeActive:function(){this.inherited(arguments);this._chart&&this._chart._isActive&&this._chart._activatePan()},onOpen:function(){this.inherited(arguments);if(this._wroWidget)this._wroWidget.onOpen()},startup:function(){if(!this._started){this.inherited(arguments);this._checkConfig();var a=this,b=this.appConfig.portalUrl,c=!!this.config.allowSaveAs&&!!v.userHaveSignInPortal(b);c?this._getUser().then(function(b){b?
b&&"1"===b.level&&(c=!1):c=!1;a._init(c,b)}):this._init(c,null);this.resize()}},resize:function(){350>this.domNode.clientWidth?k.add(this.domNode,"width-smaller-than-350"):k.remove(this.domNode,"width-smaller-than-350")},_checkConfig:function(){this.config||(this.config={})},_getUser:function(){var a=new f,b=this.appConfig.portalUrl;v.userHaveSignInPortal(b)?c.getPortal(b).getUser().then(function(b){a.resolve(b)}).otherwise(function(b){console.warn("WeighterRasterOverlay._getUser error:",b);a.resolve(null)}):
a.resolve(null);return a},_init:function(a,b){var d=this,f,h=this.config.modelItem;if(h&&"string"===typeof h.id&&0<h.id.length&&"string"===typeof h.url&&0<h.url.length){this.config.imageServiceUrl=h.url;var k=c.getPortal(this.appConfig.portalUrl),e=new t({portal:k,portalUser:b,userContentUrl:null});e.readItem(h.id).then(function(a){f=a;return e.readItemJsonData(h.id)}).then(function(c){d._load(a,b,f,c)}).otherwise(function(c){console.warn("Error loading WRO item",h.id);console.error(c);d._load(a,
b)})}else this._load(a,b)},_load:function(a,f,h,g){var k=this,n=this.nls,e=c.getPortal(this.appConfig.portalUrl),q=new m({allowSaveAs:a,getMap:function(){return k.map}});this._chart=new x({map:this.map});this._wroWidget=new y({chart:this._chart,context:q,i18n:n},this.widgetNode);this._wroWidget.startup();this._chart.wroWidget=this._wroWidget;this._chart.placeAt(this._wroWidget.chartNode);this._wroWidget.initializeTabs(b);var t,r,v=[],z=p.newWROInfo(),C=n.wro.validation.invalidItemCaption;"string"===
typeof this.config.imageServiceUrl&&(t=this.config.imageServiceUrl.trim(),t=q.checkMixedContent(t),r=new d(t,{id:q.generateRandomId()}),r.setVisibility(!1),h&&(r._wabProperties={itemLayerInfo:{itemId:h.id,itemUrl:e+"/sharing/rest/content/items/"+encodeURIComponent(h.id),portalUrl:e.portalUrl}}),p.waitForLayer(r,n).then(function(){return p.validateWROLayer(n,r,z,v,!1)}).then(function(){0<v.length?q.showMessages(C,t,v):(p.applyItemDataRenderingRule(r,z,g),k.map.addLayer(r),k._wroWidget.set("imageServiceLayer",
r))}).otherwise(function(a){console.warn("Error loading WRO layer",t);console.error(a);a.message?q.showMessages(C,t,[a.message]):q.showMessages(C,t,[n.wro.validation.inaccessible])}));this.own(this._wroWidget.designModelView.on("model-run",function(b){if(a&&b&&b.options&&b.options.saveAs){b=p.makeItemData(k._wroWidget,b.model);var c=l.getUserContentUrl(e.portalUrl,f.username);(new w({itemData:b,layer:r,portal:e,portalUser:f,saveAs:!0,userContentUrl:c,username:f.username,wabWidget:k,wroWidget:k._wroWidget})).show()}}))}})});
// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/3.15/esri/copyright.txt and http://www.arcgis.com/apps/webappbuilder/copyright.txt for details.
//>>built
require({cache:{"widgets/Analysis/toolSettings":function(){define(["dojo/_base/lang","dojo/_base/array"],function(n,e){var b={},a=0,f=[{id:a++,dijitID:"esri/dijit/analysis/AggregatePoints",name:"AggregatePoints",title:"aggregateTool",imgDisplay:"images/aggregate-points.png",usage:"aggregatePointsUsage",analysisLayer:{name:"pointLayer",geomTypes:["esriGeometryPoint","esriGeometryMultipoint"]},requiredParam:{name:"polygonLayers",isArray:!0,geomTypes:["esriGeometryPolygon"]},icon:"images/AggregatePoints32.png"},
{id:a++,dijitID:"esri/dijit/analysis/CalculateDensity",name:"CalculateDensity",title:"calculateDensity",imgDisplay:"images/calculate-density.png",usage:"calculateDensityUsage",analysisLayer:{name:"inputLayer",geomTypes:["esriGeometryPoint","esriGeometryMultipoint","esriGeometryPolyline"]},optionalParams:[{name:"boundingPolygonLayers",isArray:!0,geomTypes:["esriGeometryPolygon"]}],icon:"images/CreateDensitySurface32.png",privileges:["svradvanced"]},{id:a++,dijitID:"esri/dijit/analysis/ChooseBestFacilities",
name:"ChooseBestFacilities",title:"chooseBestFacilities",imgDisplay:"images/choose-best-facilities.png",analysisLayer:{name:"demandLocationLayer",geomTypes:["esriGeometryPoint","esriGeometryMultipoint"]},optionalParams:[{name:"demandLocationLayers",isArray:!0,geomTypes:["esriGeometryPoint","esriGeometryMultipoint"]},{name:"featureLayers",isArray:!0,geomTypes:["*"]}],icon:"images/ChooseBestFacilities32.png",privileges:["loc"]},{id:a++,dijitID:"esri/dijit/analysis/ConnectOriginsToDestinations",name:"ConnectOriginsToDestinations",
title:"connectOriginsToDestinations",imgDisplay:"images/connect-origins-to-destinations.png",usage:"connectOriginsToDestinationsUsage",analysisLayer:{name:"originsLayer",geomTypes:["esriGeometryPoint"]},requiredParam:{name:"featureLayers",isArray:!0,geomTypes:["esriGeometryPoint"]},icon:"images/ConnectOriginstoDestinations32.png",privileges:["od"]},{id:a++,dijitID:"esri/dijit/analysis/CreateBuffers",name:"CreateBuffers",title:"createBuffers",imgDisplay:"images/create-buffers.png",usage:"createBuffersUsage",
analysisLayer:{name:"inputLayer",geomTypes:["*"]},icon:"images/CreateBuffers32.png"},{id:a++,dijitID:"esri/dijit/analysis/CreateDriveTimeAreas",name:"CreateDriveTimeAreas",title:"createDriveTimeAreas",imgDisplay:"images/create-drivetime.png",usage:"createDriveTimeAreasUsage",analysisLayer:{name:"inputLayer",geomTypes:["esriGeometryPoint"]},icon:"images/CreateDriveTimeAreas32.png",cannotCancel:!0,privileges:["drivetimearea"]},{id:a++,dijitID:"esri/dijit/analysis/CreateViewshed",name:"CreateViewshed",
title:"createViewshed",imgDisplay:"images/create-viewshed.png",usage:"createViewshedUsage",analysisLayer:{name:"inputLayer",geomTypes:["esriGeometryPoint"]},icon:"images/Viewshed32.png",privileges:["elevation"]},{id:a++,dijitID:"esri/dijit/analysis/CreateWatersheds",name:"CreateWatersheds",title:"createWatershed",imgDisplay:"images/create-watersheds.png",usage:"createWatershedsUsage",analysisLayer:{name:"inputLayer",geomTypes:["esriGeometryPoint"]},icon:"images/Watershed32.png",privileges:["hydro"]},
{id:a++,dijitID:"esri/dijit/analysis/DeriveNewLocations",name:"DeriveNewLocations",title:"deriveNewLocations",imgDisplay:"images/derive-new-locations.png",usage:"deriveNewLocationsUsage",analysisLayer:{name:"analysisLayer",geomTypes:["*"]},optionalParams:[{name:"inputLayers",isArray:!0,geomTypes:["*"]}],icon:"images/FindNewLocations32.png"},{id:a++,dijitID:"esri/dijit/analysis/DissolveBoundaries",name:"DissolveBoundaries",title:"dissolveBoundaries",imgDisplay:"images/dissolve-boundaries.png",usage:"dissolveBoundariesUsage",
analysisLayer:{name:"inputLayer",geomTypes:["esriGeometryPolygon"]},icon:"images/DissolveBoundaries32.png"},{id:a++,dijitID:"esri/dijit/analysis/EnrichLayer",name:"EnrichLayer",title:"enrichLayer",imgDisplay:"images/enrich-layer.png",usage:"enrichLayerUsage",analysisLayer:{name:"inputLayer",geomTypes:["*"]},icon:"images/GeoenrichFeatures32.png",privileges:["geoenrichment"]},{id:a++,dijitID:"esri/dijit/analysis/ExtractData",name:"ExtractData",title:"extractData",imgDisplay:"images/extract-data.png",
usage:"extractDataDesc",optionalParams:[{name:"featureLayers",isArray:!0,geomTypes:["*"]}],icon:"images/ClipAndShip32.png"},{id:a++,dijitID:"esri/dijit/analysis/FindCentroids",name:"FindCentroids",title:"findCentroids",imgDisplay:"images/find-centroids.png",usage:"findCentroidsUsage",analysisLayer:{name:"inputLayer",geomTypes:["*"]},optionalParams:[{name:"inputLayers",isArray:!0,geomTypes:["*"]}],icon:"images/FindCentroid32.png",privileges:["svradvanced"]},{id:a++,dijitID:"esri/dijit/analysis/FindExistingLocations",
name:"FindExistingLocations",title:"findExistingLocations",imgDisplay:"images/find-existing-locations.png",usage:"findExistingLocationsUsage",analysisLayer:{name:"analysisLayer",geomTypes:["*"]},optionalParams:[{name:"inputLayers",isArray:!0,geomTypes:["*"]}],icon:"images/FindExistingLocations32.png"},{id:a++,dijitID:"esri/dijit/analysis/FindHotSpots",name:"FindHotSpots",title:"findHotSpots",imgDisplay:"images/find-hot-spots.png",usage:"findHotSpotsUsage",analysisLayer:{name:"analysisLayer",geomTypes:["esriGeometryPoint",
"esriGeometryMultipoint","esriGeometryPolygon"]},optionalParams:[{name:"aggregationPolygonLayers",isArray:!0,geomTypes:["esriGeometryPolygon"]},{name:"boundingPolygonLayers",isArray:!0,geomTypes:["esriGeometryPolygon"]}],icon:"images/FindHotSpots32.png"},{id:a++,dijitID:"esri/dijit/analysis/FindNearest",name:"FindNearest",title:"findNearest",imgDisplay:"images/find-nearest.png",usage:"findNearestUsage",analysisLayer:{name:"analysisLayer",geomTypes:["*"]},requiredParam:{name:"nearLayers",isArray:!0,
geomTypes:["*"]},icon:"images/FindNearest32.png",cannotCancel:!0,privileges:["svradvanced"]},{id:a++,dijitID:"esri/dijit/analysis/FindOutliers",name:"FindOutliers",title:"findOutliers",imgDisplay:"images/find-outliers.png",usage:"findOutliersUsage",analysisLayer:{name:"analysisLayer",geomTypes:["esriGeometryPoint","esriGeometryMultipoint","esriGeometryPolygon"]},optionalParams:[{name:"aggregationPolygonLayers",isArray:!0,geomTypes:["esriGeometryPolygon"]},{name:"boundingPolygonLayers",isArray:!0,
geomTypes:["esriGeometryPolygon"]}],icon:"images/FindOutliers32.png"},{id:a++,dijitID:"esri/dijit/analysis/FindPointClusters",name:"FindPointClusters",title:"findPointClusters",imgDisplay:"images/find-point-clusters.png",usage:"findPointClustersUsage",analysisLayer:{name:"analysisLayer",geomTypes:["esriGeometryPoint"]},optionalParams:[{name:"analysisLayers",isArray:!0,geomTypes:["esriGeometryPoint"]}],icon:"images/FindPointClusters32.png"},{id:a++,dijitID:"esri/dijit/analysis/FindSimilarLocations",
name:"FindSimilarLocations",title:"findSimilarLocations",imgDisplay:"images/find-similar-locations.png",usage:"findSimilarLocationsUsage",analysisLayer:{name:"inputLayer",geomTypes:["*"]},optionalParams:[{name:"searchLayers",isArray:!0,geomTypes:["*"]}],icon:"images/FindSimilarLocations32.png"},{id:a++,dijitID:"esri/dijit/analysis/GeocodeLocationsFromTable",name:"GeocodeLocationsFromTable",title:"geocodeLocations",imgDisplay:"images/geocode-locations-from-table.png",usage:"geocodeLocationsUsage",
icon:"images/GeocodeLocationsFromTable32.png",portalOnly:!0},{id:a++,dijitID:"esri/dijit/analysis/InterpolatePoints",name:"InterpolatePoints",title:"interpolatePoints",imgDisplay:"images/interpolate-points.png",usage:"interpolatePointsUsage",analysisLayer:{name:"inputLayer",geomTypes:["esriGeometryPoint","esriGeometryMultipoint"]},optionalParams:[{name:"boundingPolygonLayers",isArray:!0,geomTypes:["esriGeometryPolygon"]},{name:"predictAtPointLayers",isArray:!0,geomTypes:["esriGeometryPoint"]}],icon:"images/CreateInterpolatedSurface32.png",
privileges:["svradvanced"]},{id:a++,dijitID:"esri/dijit/analysis/JoinFeatures",name:"JoinFeatures",title:"joinFeatures",imgDisplay:"images/join-features.png",usage:"joinFeaturesUsage",analysisLayer:{name:"targetLayer",geomTypes:["*"]},optionalParams:[{name:"targetLayers",isArray:!0,geomTypes:["*"]},{name:"joinLayers",isArray:!0,geomTypes:["*"]}],icon:"images/JoinFeatures32.png"},{id:a++,dijitID:"esri/dijit/analysis/MergeLayers",name:"MergeLayers",title:"mergeLayers",imgDisplay:"images/merge-layers.png",
usage:"mergeLayersUsage",analysisLayer:{name:"inputLayer",geomTypes:["*"]},requiredParam:{name:"mergeLayers",isArray:!0,geomTypes:["*"]},icon:"images/MergeLayers32.png"},{id:a++,dijitID:"esri/dijit/analysis/OverlayLayers",name:"OverlayLayers",title:"overlayLayers",imgDisplay:"images/overlay-layers.png",usage:"overlayLayersUsage",analysisLayer:{name:"inputLayer",geomTypes:["*"]},requiredParam:{name:"overlayLayer",isArray:!0,geomTypes:["*"]},icon:"images/OverlayLayers32.png"},{id:a++,dijitID:"esri/dijit/analysis/PlanRoutes",
name:"PlanRoutes",title:"planRoutes",imgDisplay:"images/plan-routes.png",usage:"planRoutesUsage",analysisLayer:{name:"stopsLayer",geomTypes:["esriGeometryPoint"]},optionalParams:[{name:"featureLayers",isArray:!0,geomTypes:["esriGeometryPoint"]}],icon:"images/PlanRoutes32.png",cannotCancel:!0,privileges:["planroutes"]},{id:a++,dijitID:"esri/dijit/analysis/SummarizeCenterAndDispersion",name:"SummarizeCenterAndDispersion",title:"summarizeCenterAndDispersion",imgDisplay:"images/summarize-center-dispersion.png",
usage:"summarizeCenterAndDispersionUsage",analysisLayer:{name:"analysisLayer",geomTypes:["esriGeometryPoint"]},optionalParams:[{name:"inputLayers",isArray:!0,geomTypes:["*"]}],icon:"images/SummarizeCenterAndDispersion32.png"},{id:a++,dijitID:"esri/dijit/analysis/SummarizeNearby",name:"SummarizeNearby",title:"summarizeNearby",imgDisplay:"images/summarize-nearby.png",usage:"summarizeNearbyUsage",analysisLayer:{name:"sumNearbyLayer",geomTypes:["*"]},requiredParam:{name:"summaryLayers",isArray:!0,geomTypes:["*"]},
icon:"images/SummarizeNearby32.png"},{id:a++,dijitID:"esri/dijit/analysis/SummarizeWithin",name:"SummarizeWithin",title:"summarizeWithin",imgDisplay:"images/summarize-within.png",usage:"summarizeWithinUsage",analysisLayer:{name:"sumWithinLayer",geomTypes:["esriGeometryPolygon"]},requiredParam:{name:"summaryLayers",isArray:!0,geomTypes:["*"]},icon:"images/SummarizeWithin32.png"},{id:a++,dijitID:"esri/dijit/analysis/TraceDownstream",name:"TraceDownstream",title:"traceDownstream",imgDisplay:"images/trace-downstream.png",
usage:"traceDownstreamUsage",analysisLayer:{name:"inputLayer",geomTypes:["esriGeometryPoint"]},optionalParams:[{name:"boundingPolygonLayers",isArray:!0,geomTypes:["esriGeometryPolygon"]}],icon:"images/TraceDownstream32.png",privileges:["hydro"]}];b.findToolSetting=function(a){var b=null;e.some(f,function(f){if(f.name===a)return b=f,!0});return b};b.getAllSettings=function(a){var b=n.clone(f);return e.filter(b,function(b){return!0!==b.portalOnly||!0===a})};return b})},"widgets/Analysis/setting/SingleToolSetting":function(){define("dojo/_base/declare dojo/text!./SingleToolSetting.html dojo/dom-style dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin jimu/portalUrlUtils jimu/dijit/CheckBox dijit/form/ValidationTextBox".split(" "),
function(n,e,b,a,f,k,l,g){return n([a,f,k],{baseClass:"jimu-widget-analysis-singleToolSetting",templateString:e,toolLabel:null,nls:null,config:null,rowData:null,postCreate:function(){this.inherited(arguments);this.labelEditor.set("value",this.toolLabel);"extractData"===this.rowData.title&&b.set(this.resultOption,"display","none");"planRoutes"!==this.rowData.title&&"findNearest"!==this.rowData.title&&"connectOriginsToDestinations"!==this.rowData.title&&b.set(this.showOutputTypeOption,"display","none");
this.helptipChk=new g({checked:!0,label:this.nls.showHelpTip});this.helptipChk.placeAt(this.helpTipOption);this.mapExtentChk=new g({checked:!0,label:this.nls.showCurrentMapExtent});this.mapExtentChk.placeAt(this.mapExtentOption);this.creditsChk=new g({checked:!0,label:this.nls.showCredits});this.creditsChk.placeAt(this.creditsOption);this.resultChk=new g({checked:!0,label:this.nls.saveAsFeatureService});this.resultChk.placeAt(this.resultOption);this.readyToUseLayersChk=new g({checked:!0,label:this.nls.showReadyToUseLayers});
this.readyToUseLayersChk.placeAt(this.readyToUseLayersOption);this.allowToExportChk=new g({checked:!1,label:this.nls.allowToExport});this.allowToExportChk.placeAt(this.allowToExportOption);this.showOutputTypeChk=new g({checked:!1,label:this.nls.includeRouteLayer});this.showOutputTypeChk.placeAt(this.showOutputTypeOption);var a=l.getStandardPortalUrl(this.appConfig.portalUrl);if(!l.isOnline(a)||0<=["createViewshed","createWatershed","traceDownstream"].indexOf(this.rowData.title))b.set(this.creditsOption,
"display","none"),this.creditsChk.setValue(!1);"geocodeLocations"===this.rowData.title&&(b.set(this.mapExtentOption,"display","none"),this.mapExtentChk.setValue(!1),b.set(this.resultOption,"display","none"),this.resultChk.setValue(!1))},getConfig:function(){var a={showHelp:this.helptipChk.getValue(),showCredits:this.creditsChk.getValue(),showChooseExtent:this.mapExtentChk.getValue(),showReadyToUseLayers:this.readyToUseLayersChk.getValue(),allowToExport:this.allowToExportChk.getValue()};"extractData"!==
this.rowData.title&&(a.returnFeatureCollection=!this.resultChk.getValue());if("planRoutes"===this.rowData.title||"findNearest"===this.rowData.title||"connectOriginsToDestinations"===this.rowData.title)a.showOutputType=this.showOutputTypeChk.getValue();this.labelEditor.validate()?a.toolLabel=this.labelEditor.get("value"):a.toolLabel=this.toolLabel||"undefined";return a},setConfig:function(a){this.config=a;this.labelEditor.set("value",a.toolLabel);this.helptipChk.setValue(!!a.showHelp);this.creditsChk.setValue(!!a.showCredits);
this.mapExtentChk.setValue(!!a.showChooseExtent);this.readyToUseLayersChk.setValue(!!a.showReadyToUseLayers);this.allowToExportChk.setValue(!!a.allowToExport);"returnFeatureCollection"in a&&this.resultChk.setValue(!a.returnFeatureCollection);"showOutputType"in a&&this.showOutputTypeChk.setValue(!!a.showOutputType)}})})},"widgets/Analysis/setting/_build-generate_module":function(){define(["dojo/text!./Setting.html","dojo/text!./css/style.css","dojo/i18n!./nls/strings"],function(){})},"url:widgets/Analysis/setting/SingleToolSetting.html":'\x3cdiv\x3e\r\n  \x3cdiv class\x3d"control-section jimu-leading-margin3"\x3e\r\n    \x3clabel class\x3d"jimu-widget-normal"\x3e${nls.toolLabel}\x26nbsp;:\x3c/label\x3e\r\n    \x3cinput data-dojo-attach-point\x3d"labelEditor" data-dojo-type\x3d"dijit/form/ValidationTextBox"\r\n           data-dojo-props\x3d\'required:true,trim:true\'/\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"control-section jimu-leading-margin3"\x3e\r\n    \x3cdiv class\x3d"control-option" data-dojo-attach-point\x3d"helpTipOption"\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"control-option" data-dojo-attach-point\x3d"mapExtentOption"\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"control-option" data-dojo-attach-point\x3d"creditsOption"\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"control-option" data-dojo-attach-point\x3d"resultOption"\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"control-option" data-dojo-attach-point\x3d"readyToUseLayersOption"\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"control-option" data-dojo-attach-point\x3d"allowToExportOption"\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"control-option" data-dojo-attach-point\x3d"showOutputTypeOption"\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:widgets/Analysis/setting/Setting.html":'\x3cdiv\x3e\r\n  \x3cdiv\x3e\r\n    \x3cdiv\x3e\r\n      \x3cspan class\x3d"label"\x3e${nls.selectAnalysisTools}\x3c/span\x3e\r\n      \x3cspan class\x3d"info jimu-float-trailing" data-dojo-attach-point\x3d"infoText"\x3e\x3c/span\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"analysis-list-content"\x3e\r\n    \x3ctable class\x3d\'analysis-table\' data-dojo-attach-point\x3d"table"\x3e\r\n      \x3cthead class\x3d"analysis-table-thead"\x3e\r\n        \x3ctr\x3e\r\n          \x3cth class\x3d"checkbox-td"\x3e\r\n            \x3cdiv data-dojo-attach-point\x3d"checkAllBtnDiv"\x3e\x3c/div\x3e\r\n          \x3c/th\x3e\r\n          \x3cth class\x3d"name-td"\x3e\r\n            \x3clabel data-dojo-attach-event\x3d"onClick: _toggleCheckAll" class\x3d"name-for-checkbox"\x3e${nls.name}\x3c/label\x3e\r\n          \x3c/th\x3e\r\n          \x3cth class\x3d"setting-details"\x3e${nls.settings}\x3c/th\x3e\r\n          \x3cth class\x3d"usage-td"\x3e${nls.usage}\x3c/th\x3e\r\n          \x3cth\x3e\x3c/th\x3e\r\n        \x3c/tr\x3e\r\n      \x3c/thead\x3e\r\n    \x3c/table\x3e\r\n    \x3ctable class\x3d\'tools-table\'\x3e\r\n      \x3ctbody data-dojo-attach-point\x3d"tbody" class\x3d"tools-table-tbody"\x3e\r\n      \x3c/tbody\x3e\r\n    \x3c/table\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:widgets/Analysis/setting/css/style.css":'.jimu-widget-analysis-setting{margin:0; padding:0; font-size:14px; position: relative; width: 100%; height: 100%; overflow: hidden;}.jimu-widget-analysis-setting .label{font-size: 14px;}.jimu-widget-analysis-setting .info{font-size: 14px;}.jimu-widget-analysis-setting .analysis-list-content{margin-top: 15px; margin-bottom: 15px; width: 100%; height:90%;}.jimu-widget-analysis-setting .analysis-table{width:100%; margin:0; padding:0; overflow-x:hidden; overflow-y:auto; height: auto; position: relative; border-collapse:collapse; table-layout:fixed; border: 1px solid #CCCCCC;}.jimu-widget-analysis-setting .analysis-table .analysis-table-thead{width:100%; height:36px; background-color: #EEEEEE; overflow:hidden; border-top-left-radius:5px; border-top-right-radius:5px;}.jimu-widget-analysis-setting .analysis-table \x3e thead \x3e tr \x3e th{height:40px; line-height:40px; vertical-align:middle; color:#000000; font-size: 14px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;}.jimu-widget-analysis-setting .tools-table{width:100%; margin:0; padding:0; overflow-x:hidden; overflow-y:auto; height: 95%; position: relative; border-collapse:collapse; table-layout:fixed; border-left: 1px solid #CCCCCC; border-right: 1px solid #CCCCCC; border-bottom: 1px solid #CCCCCC;}.jimu-widget-analysis-setting .tools-table .tools-table-tbody{position: absolute; width:100%; height:100%; overflow-x: hidden; overflow-y: auto;}.jimu-widget-analysis-setting .checkbox-td{margin-left: 10px; padding-left: 10px; width: 30px;}.jimu-rtl .jimu-widget-analysis-setting .checkbox-td{margin-left: auto; margin-right: 10px; padding-left: auto; padding-right: 10px;}.jimu-widget-analysis-setting .name-td{margin-left: 20px; width: 230px;}.jimu-rtl .jimu-widget-analysis-setting .name-td{margin-left: auto; margin-right: 20px;}.jimu-widget-analysis-setting .setting-td{width: 110px;}.jimu-widget-analysis-setting .name-for-checkbox{cursor: pointer;}.jimu-widget-analysis-setting .img-td{margin-left: 20px; width: 280px;}.jimu-rtl .jimu-widget-analysis-setting .img-td{margin-left: auto; margin-right: 20px;}.jimu-widget-analysis-setting .usage-td{margin-left: 20px; width: auto;}.jimu-rtl .jimu-widget-analysis-setting .usage-td{margin-left: auto; margin-right: 20px;}.jimu-widget-analysis-setting .tools-table \x3e tbody \x3e tr{cursor: pointer; height: 88px; border-bottom: 1px solid #CCCCCC;}.jimu-widget-analysis-setting .tools-table \x3e tbody \x3e tr \x3e td{color:#000000; font-size: 14px;}.jimu-widget-analysis-setting .tools-table \x3e tbody \x3e tr.setting{height: auto; border: none;}.jimu-widget-analysis-setting .tools-table \x3e tbody \x3e tr.selected{border-left: 0; border-right: 6px solid #15a4fa;}.jimu-widget-analysis-setting .tools-table \x3e tbody \x3e tr.disabled{background-color: #bbbbbb;}.jimu-widget-analysis-setting .tools-table \x3e tbody \x3e tr:not(.disabled):hover \x3e td{background:#EEEEEE;}.jimu-widget-analysis-setting .setting-icon{cursor: pointer;}.jimu-widget-analysis-singleToolSetting{position: relative; background: #ffffff; border-bottom: 1px solid #CCC; padding-top: 5px;}.jimu-widget-analysis-singleToolSetting:after, .jimu-widget-analysis-singleToolSetting:before {bottom: 100%; left: 29%; border: solid transparent; content: " "; height: 0; width: 0; position: absolute; pointer-events: none;}.jimu-widget-analysis-singleToolSetting .control-option{margin-bottom: 10px;}',
"*now":function(n){n(['dojo/i18n!*preload*widgets/Analysis/setting/nls/Setting*["ar","bs","ca","cs","da","de","en","el","es","et","fi","fr","he","hi","hr","hu","id","it","ja","ko","lt","lv","nb","nl","pl","pt-br","pt-pt","ro","ru","sl","sr","sv","th","tr","zh-cn","uk","vi","zh-hk","zh-tw","ROOT"]'])},"*noref":1}});
define("dojo/_base/declare dojo/_base/array dojo/_base/lang dojo/_base/event dojo/query dojo/on dojo/fx dojo/dom dojo/dom-class dojo/dom-style dojo/dom-construct dojo/dom-prop dojo/i18n!esri/nls/jsapi dijit/_WidgetsInTemplateMixin jimu/BaseWidgetSetting jimu/utils jimu/portalUrlUtils jimu/dijit/CheckBox ../toolSettings ./SingleToolSetting".split(" "),function(n,e,b,a,f,k,l,g,m,x,h,r,y,z,A,t,u,v,w,B){return n([A,z],{baseClass:"jimu-widget-analysis-setting",postMixInProperties:function(){this.inherited(arguments);
b.mixin(this.nls,y.analysisTools);b.mixin(this.nls,window.jimuNls.common)},postCreate:function(){this.inherited(arguments);this.checkboxList=[];this._initToolsData();window.isRTL?(this.infoString=this.rowsData.length+"/0",this.infoRegex=/\d+$/):(this.infoString="0/"+this.rowsData.length,this.infoRegex=/^\d+/);this.checkAllBtn=new v({});this.checkAllBtn.placeAt(this.checkAllBtnDiv);this.own(k(this.checkAllBtn.domNode,"click",b.hitch(this,function(){this._checkAll(this.checkAllBtn.getValue())})));e.forEach(this.rowsData,
b.hitch(this,function(a){this._addRow(a)}));r.set(this.infoText,"innerHTML",this.infoString.replace(this.infoRegex,0));this.config&&this.setConfig(this.config);this.own(k(document.body,"click",b.hitch(this,function(a){var c=a.target||a.srcElement,b;f("tr.setting",this.tbody).forEach(function(a){b=c===a||g.isDescendant(c,a);!b&&a.show&&(l.wipeOut({node:a.toolSetting.domNode}).play(),a.show=!1)},this)})))},_addRow:function(c){var p=c.name;"chooseBestFacilities"===c.title&&(this.nls[c.title]=this.nls.chooseBestFacilities,
this.nls[c.usage]=this.nls.chooseBestFacilities);var d=h.create("tr",{"class":"tools-table-tr",title:this.nls[c.title]},this.tbody);d.rowData=c;var q=h.create("td",{"class":"checkbox-td"},d),e=new v({checked:!1,rid:c.id});e.placeAt(q);this.checkboxList.push(e);this.own(k(e,"change",b.hitch(this,function(a){a?m.add(d,"selected"):m.remove(d,"selected");this._updateInfoString()})));this.own(k(e.domNode,"click",b.hitch(this,function(a){a.stopPropagation()})));h.create("td",{innerHTML:t.stripHTML(this.nls[c.title]),
"class":"name-td"},d);q=h.create("td",{"class":"setting-td"},d);q=h.create("img",{src:this.folderUrl+"images/setting.png",title:this.nls.toolSetting,"class":"setting-icon"},q);e=h.create("td",{"class":"img-td"},d);h.create("img",{src:this.folderUrl+c.imgDisplay},e);h.create("td",{innerHTML:t.stripHTML(this.nls[c.usage]),"class":"usage-td"},d);var g=h.create("tr",{"class":"setting","data-toolname":p},this.tbody),p=h.create("td",{colspan:5},g);c=new B({toolLabel:this.nls[c.title],rowData:c,nls:this.nls,
appConfig:this.appConfig});x.set(c.domNode,"display","none");c.placeAt(p);g.toolSetting=c;g.show=!1;this.own(k(q,"click",b.hitch(this,function(c){a.stop(c);this._toggleToolSetting(g);f("tr.setting",this.tbody).forEach(function(a){a.show&&a!==g&&(l.wipeOut({node:a.toolSetting.domNode}).play(),a.show=!1)},this)})));this.own(k(d,"click",b.hitch(this,function(c){a.stop(c);this._toggleSelected(d);f("tr.setting",this.tbody).forEach(function(a){a.show&&a.toolSetting.rowData.id!==d.rowData.id&&(l.wipeOut({node:a.toolSetting.domNode}).play(),
a.show=!1)},this)})))},_toggleToolSetting:function(a){a.show?(l.wipeOut({node:a.toolSetting.domNode}).play(),a.show=!1):(l.wipeIn({node:a.toolSetting.domNode}).play(),a.show=!0)},_checkAll:function(a){a?(f("tr.tools-table-tr",this.tbody).forEach(function(a){m.add(a,"selected")}),e.forEach(this.checkboxList,function(a){a.setValue(!0)}),this._updateInfoString()):(f("tr.tools-table-tr",this.tbody).forEach(b.hitch(this,function(a){m.remove(a,"selected")})),e.forEach(this.checkboxList,function(a){a.setValue(!1)}),
r.set(this.infoText,"innerHTML",this.infoString.replace(this.infoRegex,0)))},_toggleCheckAll:function(){var a=!this.checkAllBtn.getValue();this.checkAllBtn.setValue(a);this._checkAll(a)},_toggleSelected:function(a){m.toggle(a,"selected");var c=this.getCheckboxById(a.rowData.id);c&&c.setValue(m.contains(a,"selected"));this._updateInfoString()},_updateInfoString:function(){var a=f("tr.selected",this.tbody).length;r.set(this.infoText,"innerHTML",this.infoString.replace(this.infoRegex,a));a===this.rowsData.length?
this.checkAllBtn.setValue(!0):this.checkAllBtn.setValue(!1)},_setSelected:function(a,p){var c=w.findToolSetting(a.name);null!==c&&f("tr.tools-table-tr",this.tbody).some(b.hitch(this,function(b){if(b.rowData.dijitID===c.dijitID){var d=this.getCheckboxById(c.id);d&&d.setValue(p);!0===p?m.add(b,"selected"):m.remove(b,"selected");(b=f("tr.setting[data-toolname\x3d"+a.name+"]",this.tbody)[0])&&(b=b.toolSetting)&&b.setConfig(a);return!0}}))},setConfig:function(a){this.config=a;e.forEach(this.config.analysisTools,
b.hitch(this,function(a){this._setSelected(a,!0)}));this._updateInfoString()},getConfig:function(){var a={analysisTools:[]};e.forEach(this.checkboxList,b.hitch(this,function(c){if(!0===c.getValue()){var d=this.getRowById(c.get("rid")).name;null!==d?(c={name:d},(d=f("tr.setting[data-toolname\x3d"+d+"]",this.tbody)[0].toolSetting)&&b.mixin(c,d.getConfig()),a.analysisTools.push(c)):console.warn("error find rowsData: "+c.get("title"))}}));return a},_initToolsData:function(){var a=u.getStandardPortalUrl(this.appConfig.portalUrl),
a=!u.isOnline(a);this.rowsData=w.getAllSettings(a).sort(b.hitch(this,function(a,b){return(""+this.nls[a.title]).localeCompare(""+this.nls[b.title])}))},getRowById:function(a){var c;e.some(this.rowsData,b.hitch(this,function(b){if(b.id===a)return c=b,!0}));return c},getCheckboxById:function(a){var c;e.some(this.checkboxList,b.hitch(this,function(b){if(b.rid===a)return c=b,!0}));return c}})});
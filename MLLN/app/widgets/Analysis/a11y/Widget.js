// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/3.15/esri/copyright.txt and http://www.arcgis.com/apps/webappbuilder/copyright.txt for details.
//>>built
define("dojo/_base/lang dojo/_base/html dojo/dom-attr dojo/dom-construct dojo/query dojo/on dojo/keys dijit/a11yclick jimu/utils".split(" "),function(f,d,c,m,l,h,e,n,k){return{a11y_initFirstFocusNode:function(){k.initFirstFocusNode(this.domNode,this.toolsSection)},a11y_initLastFocusNode:function(){var a=l(".tools-table-item",this.toolsTbody);(a=a[a.length-1])&&k.initLastFocusNode(this.domNode,a)},a11y_addTool:function(a,b,g){var d=k.getUUID();c.set(a,"role","button");c.set(a,"tabindex","0");var e=
"jimuUniq_name_"+d;c.set(b,"id",e);!0===g?c.set(a,"aria-labelledby",e):(b="jimuUniq_tip_"+d,m.create("div",{id:b,"class":"icon-section screen-readers-only",innerHTML:this.nls.toolNotAvailable},a),c.set(a,"aria-disabled","true"),c.set(a,"aria-labelledby",e+" "+b))},a11y_analysisTool_backBtn:function(a,b){c.set(a,"role","button");c.set(a,"tabindex","0");this.currentAnalysisDijit.own(h(a,"keydown",f.hitch(this,function(a){a.keyCode===e.TAB&&(a.preventDefault(),a.shiftKey?this.toolPanel.focus():("none"!==
d.getStyle(b,"display")?b:this.toolPanel).focus())})))},a11y_analysisTool_submitBtn:function(a,b){if("none"!==d.getStyle(b,"display")){var g=l('[tabindex\x3d"0"]',b)[0],c=d.getAttr(g,"aria-labelledby");d.setAttr(b,"aria-labelledby",c);d.setAttr(b,"tabindex","0");d.setAttr(b,"role","button");this.currentAnalysisDijit.own(h(b,n,f.hitch(this,function(){g.click()})));this.currentAnalysisDijit.own(h(b,"keydown",f.hitch(this,function(b){b.keyCode===e.TAB&&(b.preventDefault(),b.shiftKey?(a?a:this.toolPanel).focus():
this.toolPanel.focus())})))}else b=a?a:this.toolPanel;1===this.toolCountInList&&(k.initFirstFocusNode(this.domNode,this.toolPanel),k.initLastFocusNode(this.domNode,b))},a11y_analysisTool_toolPanel:function(a,b){this.own(h(this.toolPanel,"keydown",f.hitch(this,function(c){if(c.keyCode===e.ESCAPE&&a)c.stopPropagation(),a.focus();else if(d.hasClass(c.target,"tool-panel")&&c.keyCode===e.TAB){c.preventDefault();var g="none"!==d.getStyle(b,"display")?b:null,f;c.shiftKey?f=g||a||this.toolPanel:c.shiftKey||
(f=a||g||this.toolPanel);f.focus()}})))},a11y_updateTitleForMsgDom:function(a,b){var c=d.getAttr(this.toolTitle,"id"),e=d.getAttr(this.messageStatusNode,"id"),c=[c,e];a===b.STATUS_SUCCEEDED&&c.push(d.getAttr(this.outputtip,"id"));d.setAttr(this.messagePanel,"aria-labelledby",c.join(" "))},a11y_addAttrsAndEventForCancelBtn:function(a){c.set(a,"role","button");c.set(a,"tabindex","0");this.own(h(a,"keydown",f.hitch(this,function(a){a.shiftKey||a.keyCode!==e.TAB||(a.preventDefault(),this.messagePanel.focus())})))},
a11y_addAttrsForOutputLink:function(a){c.set(a,"role","link")},a11y_addAttrsForExportNode:function(a){c.set(a,"role","button");c.set(a,"aria-haspopup","true");c.set(a,"aria-label",this.nls.action);c.set(a,"tabindex","0")},a11y_addMessagePanelEvent:function(){this.own(h(this.messagePanel,"keydown",f.hitch(this,function(a){if(a.keyCode===e.ESCAPE)a.stopPropagation(),"none"!==d.getStyle(this.buttonSection,"display")&&this.backBtn.focus();else if(d.hasClass(a.target,"message-panel")&&a.keyCode===e.TAB){var b=
l(".job-cancel-icon",this.messageSection)[0]||("none"!==d.getStyle(this.buttonSection,"display")?this.homeBtn:null);b?a.shiftKey&&(a.preventDefault(),b.focus()):a.preventDefault()}})))},a11y_switchToPrevious:function(a){a.keyCode!==e.ENTER&&a.keyCode!==e.SPACE||this._switchToPrevious()},a11y_switchToHome:function(a){a.keyCode===e.ENTER||a.keyCode===e.SPACE?this._switchToHome():a.shiftKey||a.keyCode!==e.TAB||(a.preventDefault(),this.messagePanel.focus())},a11y_switchView_toolList:function(){1===this.toolCountInList?
this.toolPanel.focus():this.toolsSection.focus()},a11y_switchView_others:function(a,b){a===b?this.toolPanel.focus():this.messagePanel.focus()}}});